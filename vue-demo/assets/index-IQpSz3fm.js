(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();function qi(t,e){const i=Object.create(null),s=t.split(",");for(let n=0;n<s.length;n++)i[s[n]]=!0;return e?n=>!!i[n.toLowerCase()]:n=>!!i[n]}const z={},te=[],mt=()=>{},co=()=>!1,ho=/^on[^a-z]/,si=t=>ho.test(t),Yi=t=>t.startsWith("onUpdate:"),X=Object.assign,Ji=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},ao=Object.prototype.hasOwnProperty,T=(t,e)=>ao.call(t,e),I=Array.isArray,ee=t=>oi(t)==="[object Map]",rn=t=>oi(t)==="[object Set]",C=t=>typeof t=="function",J=t=>typeof t=="string",ni=t=>typeof t=="symbol",U=t=>t!==null&&typeof t=="object",ln=t=>(U(t)||C(t))&&C(t.then)&&C(t.catch),cn=Object.prototype.toString,oi=t=>cn.call(t),uo=t=>oi(t).slice(8,-1),hn=t=>oi(t)==="[object Object]",Vi=t=>J(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ze=qi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ri=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},fo=/-(\w)/g,oe=ri(t=>t.replace(fo,(e,i)=>i?i.toUpperCase():"")),po=/\B([A-Z])/g,fe=ri(t=>t.replace(po,"-$1").toLowerCase()),an=ri(t=>t.charAt(0).toUpperCase()+t.slice(1)),Li=ri(t=>t?`on${an(t)}`:""),Wt=(t,e)=>!Object.is(t,e),qe=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},Qe=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},$i=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Os;const Di=()=>Os||(Os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ie(t){if(I(t)){const e={};for(let i=0;i<t.length;i++){const s=t[i],n=J(s)?bo(s):Ie(s);if(n)for(const o in n)e[o]=n[o]}return e}else if(J(t)||U(t))return t}const xo=/;(?![^(]*\))/g,go=/:([^]+)/,yo=/\/\*[^]*?\*\//g;function bo(t){const e={};return t.replace(yo,"").split(xo).forEach(i=>{if(i){const s=i.split(go);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Xi(t){let e="";if(J(t))e=t;else if(I(t))for(let i=0;i<t.length;i++){const s=Xi(t[i]);s&&(e+=s+" ")}else if(U(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const mo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vo=qi(mo);function un(t){return!!t||t===""}const Lo=t=>J(t)?t:t==null?"":I(t)||U(t)&&(t.toString===cn||!C(t.toString))?JSON.stringify(t,fn,2):String(t),fn=(t,e)=>e&&e.__v_isRef?fn(t,e.value):ee(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[s,n])=>(i[`${s} =>`]=n,i),{})}:rn(e)?{[`Set(${e.size})`]:[...e.values()]}:U(e)&&!I(e)&&!hn(e)?String(e):e;let lt;class wo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=lt,!e&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const i=lt;try{return lt=this,e()}finally{lt=i}}}on(){lt=this}off(){lt=this.parent}stop(e){if(this._active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Oo(t,e=lt){e&&e.active&&e.effects.push(t)}function Po(){return lt}const Qi=t=>{const e=new Set(t);return e.w=0,e.n=0,e},dn=t=>(t.w&Dt)>0,pn=t=>(t.n&Dt)>0,Mo=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Dt},_o=t=>{const{deps:e}=t;if(e.length){let i=0;for(let s=0;s<e.length;s++){const n=e[s];dn(n)&&!pn(n)?n.delete(t):e[i++]=n,n.w&=~Dt,n.n&=~Dt}e.length=i}},ki=new WeakMap;let Le=0,Dt=1;const Ti=30;let ht;const Ht=Symbol(""),Si=Symbol("");class Gi{constructor(e,i=null,s){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,Oo(this,s)}run(){if(!this.active)return this.fn();let e=ht,i=Ct;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ht,ht=this,Ct=!0,Dt=1<<++Le,Le<=Ti?Mo(this):Ps(this),this.fn()}finally{Le<=Ti&&_o(this),Dt=1<<--Le,ht=this.parent,Ct=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ht===this?this.deferStop=!0:this.active&&(Ps(this),this.onStop&&this.onStop(),this.active=!1)}}function Ps(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}let Ct=!0;const xn=[];function de(){xn.push(Ct),Ct=!1}function pe(){const t=xn.pop();Ct=t===void 0?!0:t}function st(t,e,i){if(Ct&&ht){let s=ki.get(t);s||ki.set(t,s=new Map);let n=s.get(i);n||s.set(i,n=Qi()),gn(n)}}function gn(t,e){let i=!1;Le<=Ti?pn(t)||(t.n|=Dt,i=!dn(t)):i=!t.has(ht),i&&(t.add(ht),ht.deps.push(t))}function wt(t,e,i,s,n,o){const r=ki.get(t);if(!r)return;let l=[];if(e==="clear")l=[...r.values()];else if(i==="length"&&I(t)){const h=Number(s);r.forEach((u,f)=>{(f==="length"||!ni(f)&&f>=h)&&l.push(u)})}else switch(i!==void 0&&l.push(r.get(i)),e){case"add":I(t)?Vi(i)&&l.push(r.get("length")):(l.push(r.get(Ht)),ee(t)&&l.push(r.get(Si)));break;case"delete":I(t)||(l.push(r.get(Ht)),ee(t)&&l.push(r.get(Si)));break;case"set":ee(t)&&l.push(r.get(Ht));break}if(l.length===1)l[0]&&Ai(l[0]);else{const h=[];for(const u of l)u&&h.push(...u);Ai(Qi(h))}}function Ai(t,e){const i=I(t)?t:[...t];for(const s of i)s.computed&&Ms(s);for(const s of i)s.computed||Ms(s)}function Ms(t,e){(t!==ht||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const jo=qi("__proto__,__v_isRef,__isVue"),yn=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ni)),_s=Io();function Io(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){const s=S(this);for(let o=0,r=this.length;o<r;o++)st(s,"get",o+"");const n=s[e](...i);return n===-1||n===!1?s[e](...i.map(S)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){de();const s=S(this)[e].apply(this,i);return pe(),s}}),t}function Eo(t){const e=S(this);return st(e,"has",t),e.hasOwnProperty(t)}class bn{constructor(e=!1,i=!1){this._isReadonly=e,this._shallow=i}get(e,i,s){const n=this._isReadonly,o=this._shallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return o;if(i==="__v_raw"&&s===(n?o?Ho:wn:o?Ln:vn).get(e))return e;const r=I(e);if(!n){if(r&&T(_s,i))return Reflect.get(_s,i,s);if(i==="hasOwnProperty")return Eo}const l=Reflect.get(e,i,s);return(ni(i)?yn.has(i):jo(i))||(n||st(e,"get",i),o)?l:Y(l)?r&&Vi(i)?l:l.value:U(l)?n?On(l):is(l):l}}class mn extends bn{constructor(e=!1){super(!1,e)}set(e,i,s,n){let o=e[i];if(re(o)&&Y(o)&&!Y(s))return!1;if(!this._shallow&&(!Ge(s)&&!re(s)&&(o=S(o),s=S(s)),!I(e)&&Y(o)&&!Y(s)))return o.value=s,!0;const r=I(e)&&Vi(i)?Number(i)<e.length:T(e,i),l=Reflect.set(e,i,s,n);return e===S(n)&&(r?Wt(s,o)&&wt(e,"set",i,s):wt(e,"add",i,s)),l}deleteProperty(e,i){const s=T(e,i);e[i];const n=Reflect.deleteProperty(e,i);return n&&s&&wt(e,"delete",i,void 0),n}has(e,i){const s=Reflect.has(e,i);return(!ni(i)||!yn.has(i))&&st(e,"has",i),s}ownKeys(e){return st(e,"iterate",I(e)?"length":Ht),Reflect.ownKeys(e)}}class Co extends bn{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const $o=new mn,Do=new Co,ko=new mn(!0),ts=t=>t,li=t=>Reflect.getPrototypeOf(t);function Be(t,e,i=!1,s=!1){t=t.__v_raw;const n=S(t),o=S(e);i||(Wt(e,o)&&st(n,"get",e),st(n,"get",o));const{has:r}=li(n),l=s?ts:i?ns:Ee;if(r.call(n,e))return l(t.get(e));if(r.call(n,o))return l(t.get(o));t!==n&&t.get(e)}function Ke(t,e=!1){const i=this.__v_raw,s=S(i),n=S(t);return e||(Wt(t,n)&&st(s,"has",t),st(s,"has",n)),t===n?i.has(t):i.has(t)||i.has(n)}function He(t,e=!1){return t=t.__v_raw,!e&&st(S(t),"iterate",Ht),Reflect.get(t,"size",t)}function js(t){t=S(t);const e=S(this);return li(e).has.call(e,t)||(e.add(t),wt(e,"add",t,t)),this}function Is(t,e){e=S(e);const i=S(this),{has:s,get:n}=li(i);let o=s.call(i,t);o||(t=S(t),o=s.call(i,t));const r=n.call(i,t);return i.set(t,e),o?Wt(e,r)&&wt(i,"set",t,e):wt(i,"add",t,e),this}function Es(t){const e=S(this),{has:i,get:s}=li(e);let n=i.call(e,t);n||(t=S(t),n=i.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return n&&wt(e,"delete",t,void 0),o}function Cs(){const t=S(this),e=t.size!==0,i=t.clear();return e&&wt(t,"clear",void 0,void 0),i}function ze(t,e){return function(s,n){const o=this,r=o.__v_raw,l=S(r),h=e?ts:t?ns:Ee;return!t&&st(l,"iterate",Ht),r.forEach((u,f)=>s.call(n,h(u),h(f),o))}}function Ue(t,e,i){return function(...s){const n=this.__v_raw,o=S(n),r=ee(o),l=t==="entries"||t===Symbol.iterator&&r,h=t==="keys"&&r,u=n[t](...s),f=i?ts:e?ns:Ee;return!e&&st(o,"iterate",h?Si:Ht),{next(){const{value:g,done:L}=u.next();return L?{value:g,done:L}:{value:l?[f(g[0]),f(g[1])]:f(g),done:L}},[Symbol.iterator](){return this}}}}function _t(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function To(){const t={get(o){return Be(this,o)},get size(){return He(this)},has:Ke,add:js,set:Is,delete:Es,clear:Cs,forEach:ze(!1,!1)},e={get(o){return Be(this,o,!1,!0)},get size(){return He(this)},has:Ke,add:js,set:Is,delete:Es,clear:Cs,forEach:ze(!1,!0)},i={get(o){return Be(this,o,!0)},get size(){return He(this,!0)},has(o){return Ke.call(this,o,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:ze(!0,!1)},s={get(o){return Be(this,o,!0,!0)},get size(){return He(this,!0)},has(o){return Ke.call(this,o,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:ze(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ue(o,!1,!1),i[o]=Ue(o,!0,!1),e[o]=Ue(o,!1,!0),s[o]=Ue(o,!0,!0)}),[t,i,e,s]}const[So,Ao,Ro,No]=To();function es(t,e){const i=e?t?No:Ro:t?Ao:So;return(s,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(T(i,n)&&n in s?i:s,n,o)}const Fo={get:es(!1,!1)},Bo={get:es(!1,!0)},Ko={get:es(!0,!1)},vn=new WeakMap,Ln=new WeakMap,wn=new WeakMap,Ho=new WeakMap;function zo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uo(t){return t.__v_skip||!Object.isExtensible(t)?0:zo(uo(t))}function is(t){return re(t)?t:ss(t,!1,$o,Fo,vn)}function Wo(t){return ss(t,!1,ko,Bo,Ln)}function On(t){return ss(t,!0,Do,Ko,wn)}function ss(t,e,i,s,n){if(!U(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=n.get(t);if(o)return o;const r=Uo(t);if(r===0)return t;const l=new Proxy(t,r===2?s:i);return n.set(t,l),l}function ie(t){return re(t)?ie(t.__v_raw):!!(t&&t.__v_isReactive)}function re(t){return!!(t&&t.__v_isReadonly)}function Ge(t){return!!(t&&t.__v_isShallow)}function Pn(t){return ie(t)||re(t)}function S(t){const e=t&&t.__v_raw;return e?S(e):t}function Mn(t){return Qe(t,"__v_skip",!0),t}const Ee=t=>U(t)?is(t):t,ns=t=>U(t)?On(t):t;function _n(t){Ct&&ht&&(t=S(t),gn(t.dep||(t.dep=Qi())))}function jn(t,e){t=S(t);const i=t.dep;i&&Ai(i)}function Y(t){return!!(t&&t.__v_isRef===!0)}function jt(t){return Zo(t,!1)}function Zo(t,e){return Y(t)?t:new qo(t,e)}class qo{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:S(e),this._value=i?e:Ee(e)}get value(){return _n(this),this._value}set value(e){const i=this.__v_isShallow||Ge(e)||re(e);e=i?e:S(e),Wt(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:Ee(e),jn(this))}}function rt(t){return Y(t)?t.value:t}const Yo={get:(t,e,i)=>rt(Reflect.get(t,e,i)),set:(t,e,i,s)=>{const n=t[e];return Y(n)&&!Y(i)?(n.value=i,!0):Reflect.set(t,e,i,s)}};function In(t){return ie(t)?t:new Proxy(t,Yo)}class Jo{constructor(e,i,s,n){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gi(e,()=>{this._dirty||(this._dirty=!0,jn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const e=S(this);return _n(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Vo(t,e,i=!1){let s,n;const o=C(t);return o?(s=t,n=mt):(s=t.get,n=t.set),new Jo(s,n,o||!n,i)}function $t(t,e,i,s){let n;try{n=s?t(...s):t()}catch(o){ci(o,e,i)}return n}function ft(t,e,i,s){if(C(t)){const o=$t(t,e,i,s);return o&&ln(o)&&o.catch(r=>{ci(r,e,i)}),o}const n=[];for(let o=0;o<t.length;o++)n.push(ft(t[o],e,i,s));return n}function ci(t,e,i,s=!0){const n=e?e.vnode:null;if(e){let o=e.parent;const r=e.proxy,l=i;for(;o;){const u=o.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,r,l)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){$t(h,null,10,[t,r,l]);return}}Xo(t,i,n,s)}function Xo(t,e,i,s=!0){console.error(t)}let Ce=!1,Ri=!1;const Q=[];let bt=0;const se=[];let Lt=null,Nt=0;const En=Promise.resolve();let os=null;function Qo(t){const e=os||En;return t?e.then(this?t.bind(this):t):e}function Go(t){let e=bt+1,i=Q.length;for(;e<i;){const s=e+i>>>1,n=Q[s],o=$e(n);o<t||o===t&&n.pre?e=s+1:i=s}return e}function rs(t){(!Q.length||!Q.includes(t,Ce&&t.allowRecurse?bt+1:bt))&&(t.id==null?Q.push(t):Q.splice(Go(t.id),0,t),Cn())}function Cn(){!Ce&&!Ri&&(Ri=!0,os=En.then(Dn))}function tr(t){const e=Q.indexOf(t);e>bt&&Q.splice(e,1)}function er(t){I(t)?se.push(...t):(!Lt||!Lt.includes(t,t.allowRecurse?Nt+1:Nt))&&se.push(t),Cn()}function $s(t,e=Ce?bt+1:0){for(;e<Q.length;e++){const i=Q[e];i&&i.pre&&(Q.splice(e,1),e--,i())}}function $n(t){if(se.length){const e=[...new Set(se)];if(se.length=0,Lt){Lt.push(...e);return}for(Lt=e,Lt.sort((i,s)=>$e(i)-$e(s)),Nt=0;Nt<Lt.length;Nt++)Lt[Nt]();Lt=null,Nt=0}}const $e=t=>t.id==null?1/0:t.id,ir=(t,e)=>{const i=$e(t)-$e(e);if(i===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function Dn(t){Ri=!1,Ce=!0,Q.sort(ir);try{for(bt=0;bt<Q.length;bt++){const e=Q[bt];e&&e.active!==!1&&$t(e,null,14)}}finally{bt=0,Q.length=0,$n(),Ce=!1,os=null,(Q.length||se.length)&&Dn()}}function sr(t,e,...i){if(t.isUnmounted)return;const s=t.vnode.props||z;let n=i;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in s){const f=`${r==="modelValue"?"model":r}Modifiers`,{number:g,trim:L}=s[f]||z;L&&(n=i.map(w=>J(w)?w.trim():w)),g&&(n=i.map($i))}let l,h=s[l=Li(e)]||s[l=Li(oe(e))];!h&&o&&(h=s[l=Li(fe(e))]),h&&ft(h,t,6,n);const u=s[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ft(u,t,6,n)}}function kn(t,e,i=!1){const s=e.emitsCache,n=s.get(t);if(n!==void 0)return n;const o=t.emits;let r={},l=!1;if(!C(t)){const h=u=>{const f=kn(u,e,!0);f&&(l=!0,X(r,f))};!i&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!o&&!l?(U(t)&&s.set(t,null),null):(I(o)?o.forEach(h=>r[h]=null):X(r,o),U(t)&&s.set(t,r),r)}function hi(t,e){return!t||!si(e)?!1:(e=e.slice(2).replace(/Once$/,""),T(t,e[0].toLowerCase()+e.slice(1))||T(t,fe(e))||T(t,e))}let at=null,ai=null;function ti(t){const e=at;return at=t,ai=t&&t.type.__scopeId||null,e}function nr(t){ai=t}function or(){ai=null}function rr(t,e=at,i){if(!e||t._n)return t;const s=(...n)=>{s._d&&Hs(-1);const o=ti(e);let r;try{r=t(...n)}finally{ti(o),s._d&&Hs(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function wi(t){const{type:e,vnode:i,proxy:s,withProxy:n,props:o,propsOptions:[r],slots:l,attrs:h,emit:u,render:f,renderCache:g,data:L,setupState:w,ctx:$,inheritAttrs:P}=t;let A,N;const F=ti(t);try{if(i.shapeFlag&4){const D=n||s,dt=D;A=yt(f.call(dt,D,g,o,w,L,$)),N=h}else{const D=e;A=yt(D.length>1?D(o,{attrs:h,slots:l,emit:u}):D(o,null)),N=e.props?h:lr(h)}}catch(D){Pe.length=0,ci(D,t,1),A=zt(De)}let q=A;if(N&&P!==!1){const D=Object.keys(N),{shapeFlag:dt}=q;D.length&&dt&7&&(r&&D.some(Yi)&&(N=cr(N,r)),q=le(q,N))}return i.dirs&&(q=le(q),q.dirs=q.dirs?q.dirs.concat(i.dirs):i.dirs),i.transition&&(q.transition=i.transition),A=q,ti(F),A}const lr=t=>{let e;for(const i in t)(i==="class"||i==="style"||si(i))&&((e||(e={}))[i]=t[i]);return e},cr=(t,e)=>{const i={};for(const s in t)(!Yi(s)||!(s.slice(9)in e))&&(i[s]=t[s]);return i};function hr(t,e,i){const{props:s,children:n,component:o}=t,{props:r,children:l,patchFlag:h}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&h>=0){if(h&1024)return!0;if(h&16)return s?Ds(s,r,u):!!r;if(h&8){const f=e.dynamicProps;for(let g=0;g<f.length;g++){const L=f[g];if(r[L]!==s[L]&&!hi(u,L))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?Ds(s,r,u):!0:!!r;return!1}function Ds(t,e,i){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const o=s[n];if(e[o]!==t[o]&&!hi(i,o))return!0}return!1}function ar({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}const ur=Symbol.for("v-ndc"),fr=t=>t.__isSuspense;function dr(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):er(t)}const We={};function Oi(t,e,i){return Tn(t,e,i)}function Tn(t,e,{immediate:i,deep:s,flush:n,onTrack:o,onTrigger:r}=z){var l;const h=Po()===((l=G)==null?void 0:l.scope)?G:null;let u,f=!1,g=!1;if(Y(t)?(u=()=>t.value,f=Ge(t)):ie(t)?(u=()=>t,s=!0):I(t)?(g=!0,f=t.some(D=>ie(D)||Ge(D)),u=()=>t.map(D=>{if(Y(D))return D.value;if(ie(D))return Bt(D);if(C(D))return $t(D,h,2)})):C(t)?e?u=()=>$t(t,h,2):u=()=>{if(!(h&&h.isUnmounted))return L&&L(),ft(t,h,3,[w])}:u=mt,e&&s){const D=u;u=()=>Bt(D())}let L,w=D=>{L=F.onStop=()=>{$t(D,h,4),L=F.onStop=void 0}},$;if(Te)if(w=mt,e?i&&ft(e,h,3,[u(),g?[]:void 0,w]):u(),n==="sync"){const D=ll();$=D.__watcherHandles||(D.__watcherHandles=[])}else return mt;let P=g?new Array(t.length).fill(We):We;const A=()=>{if(F.active)if(e){const D=F.run();(s||f||(g?D.some((dt,Zt)=>Wt(dt,P[Zt])):Wt(D,P)))&&(L&&L(),ft(e,h,3,[D,P===We?void 0:g&&P[0]===We?[]:P,w]),P=D)}else F.run()};A.allowRecurse=!!e;let N;n==="sync"?N=A:n==="post"?N=()=>it(A,h&&h.suspense):(A.pre=!0,h&&(A.id=h.uid),N=()=>rs(A));const F=new Gi(u,N);e?i?A():P=F.run():n==="post"?it(F.run.bind(F),h&&h.suspense):F.run();const q=()=>{F.stop(),h&&h.scope&&Ji(h.scope.effects,F)};return $&&$.push(q),q}function pr(t,e,i){const s=this.proxy,n=J(t)?t.includes(".")?Sn(s,t):()=>s[t]:t.bind(s,s);let o;C(e)?o=e:(o=e.handler,i=e);const r=G;ce(this);const l=Tn(n,o.bind(s),i);return r?ce(r):Ut(),l}function Sn(t,e){const i=e.split(".");return()=>{let s=t;for(let n=0;n<i.length&&s;n++)s=s[i[n]];return s}}function Bt(t,e){if(!U(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Y(t))Bt(t.value,e);else if(I(t))for(let i=0;i<t.length;i++)Bt(t[i],e);else if(rn(t)||ee(t))t.forEach(i=>{Bt(i,e)});else if(hn(t))for(const i in t)Bt(t[i],e);return t}function Pi(t,e){const i=at;if(i===null)return t;const s=pi(i)||i.proxy,n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[r,l,h,u=z]=e[o];r&&(C(r)&&(r={mounted:r,updated:r}),r.deep&&Bt(l),n.push({dir:r,instance:s,value:l,oldValue:void 0,arg:h,modifiers:u}))}return t}function At(t,e,i,s){const n=t.dirs,o=e&&e.dirs;for(let r=0;r<n.length;r++){const l=n[r];o&&(l.oldValue=o[r].value);let h=l.dir[s];h&&(de(),ft(h,i,8,[t.el,l,t,e]),pe())}}/*! #__NO_SIDE_EFFECTS__ */function xr(t,e){return C(t)?X({name:t.name},e,{setup:t}):t}const Ye=t=>!!t.type.__asyncLoader,An=t=>t.type.__isKeepAlive;function gr(t,e){Rn(t,"a",e)}function yr(t,e){Rn(t,"da",e)}function Rn(t,e,i=G){const s=t.__wdc||(t.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ui(e,s,i),i){let n=i.parent;for(;n&&n.parent;)An(n.parent.vnode)&&br(s,e,i,n),n=n.parent}}function br(t,e,i,s){const n=ui(e,t,s,!0);Fn(()=>{Ji(s[e],n)},i)}function ui(t,e,i=G,s=!1){if(i){const n=i[t]||(i[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(i.isUnmounted)return;de(),ce(i);const l=ft(e,i,t,r);return Ut(),pe(),l});return s?n.unshift(o):n.push(o),o}}const Ot=t=>(e,i=G)=>(!Te||t==="sp")&&ui(t,(...s)=>e(...s),i),mr=Ot("bm"),Nn=Ot("m"),vr=Ot("bu"),Lr=Ot("u"),wr=Ot("bum"),Fn=Ot("um"),Or=Ot("sp"),Pr=Ot("rtg"),Mr=Ot("rtc");function _r(t,e=G){ui("ec",t,e)}function ks(t,e,i,s){let n;const o=i&&i[s];if(I(t)||J(t)){n=new Array(t.length);for(let r=0,l=t.length;r<l;r++)n[r]=e(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r,void 0,o&&o[r])}else if(U(t))if(t[Symbol.iterator])n=Array.from(t,(r,l)=>e(r,l,void 0,o&&o[l]));else{const r=Object.keys(t);n=new Array(r.length);for(let l=0,h=r.length;l<h;l++){const u=r[l];n[l]=e(t[u],u,l,o&&o[l])}}else n=[];return i&&(i[s]=n),n}const Ni=t=>t?Jn(t)?pi(t)||t.proxy:Ni(t.parent):null,Oe=X(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ni(t.parent),$root:t=>Ni(t.root),$emit:t=>t.emit,$options:t=>ls(t),$forceUpdate:t=>t.f||(t.f=()=>rs(t.update)),$nextTick:t=>t.n||(t.n=Qo.bind(t.proxy)),$watch:t=>pr.bind(t)}),Mi=(t,e)=>t!==z&&!t.__isScriptSetup&&T(t,e),jr={get({_:t},e){const{ctx:i,setupState:s,data:n,props:o,accessCache:r,type:l,appContext:h}=t;let u;if(e[0]!=="$"){const w=r[e];if(w!==void 0)switch(w){case 1:return s[e];case 2:return n[e];case 4:return i[e];case 3:return o[e]}else{if(Mi(s,e))return r[e]=1,s[e];if(n!==z&&T(n,e))return r[e]=2,n[e];if((u=t.propsOptions[0])&&T(u,e))return r[e]=3,o[e];if(i!==z&&T(i,e))return r[e]=4,i[e];Fi&&(r[e]=0)}}const f=Oe[e];let g,L;if(f)return e==="$attrs"&&st(t,"get",e),f(t);if((g=l.__cssModules)&&(g=g[e]))return g;if(i!==z&&T(i,e))return r[e]=4,i[e];if(L=h.config.globalProperties,T(L,e))return L[e]},set({_:t},e,i){const{data:s,setupState:n,ctx:o}=t;return Mi(n,e)?(n[e]=i,!0):s!==z&&T(s,e)?(s[e]=i,!0):T(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:s,appContext:n,propsOptions:o}},r){let l;return!!i[r]||t!==z&&T(t,r)||Mi(e,r)||(l=o[0])&&T(l,r)||T(s,r)||T(Oe,r)||T(n.config.globalProperties,r)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:T(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function Ts(t){return I(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let Fi=!0;function Ir(t){const e=ls(t),i=t.proxy,s=t.ctx;Fi=!1,e.beforeCreate&&Ss(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:r,watch:l,provide:h,inject:u,created:f,beforeMount:g,mounted:L,beforeUpdate:w,updated:$,activated:P,deactivated:A,beforeDestroy:N,beforeUnmount:F,destroyed:q,unmounted:D,render:dt,renderTracked:Zt,renderTriggered:xe,errorCaptured:Mt,serverPrefetch:yi,expose:kt,inheritAttrs:ge,components:Ae,directives:Re,filters:bi}=e;if(u&&Er(u,s,null),r)for(const W in r){const B=r[W];C(B)&&(s[W]=B.bind(i))}if(n){const W=n.call(i,i);U(W)&&(t.data=is(W))}if(Fi=!0,o)for(const W in o){const B=o[W],Tt=C(B)?B.bind(i,i):C(B.get)?B.get.bind(i,i):mt,Ne=!C(B)&&C(B.set)?B.set.bind(i):mt,St=Xn({get:Tt,set:Ne});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>St.value,set:pt=>St.value=pt})}if(l)for(const W in l)Bn(l[W],s,i,W);if(h){const W=C(h)?h.call(i):h;Reflect.ownKeys(W).forEach(B=>{Sr(B,W[B])})}f&&Ss(f,t,"c");function tt(W,B){I(B)?B.forEach(Tt=>W(Tt.bind(i))):B&&W(B.bind(i))}if(tt(mr,g),tt(Nn,L),tt(vr,w),tt(Lr,$),tt(gr,P),tt(yr,A),tt(_r,Mt),tt(Mr,Zt),tt(Pr,xe),tt(wr,F),tt(Fn,D),tt(Or,yi),I(kt))if(kt.length){const W=t.exposed||(t.exposed={});kt.forEach(B=>{Object.defineProperty(W,B,{get:()=>i[B],set:Tt=>i[B]=Tt})})}else t.exposed||(t.exposed={});dt&&t.render===mt&&(t.render=dt),ge!=null&&(t.inheritAttrs=ge),Ae&&(t.components=Ae),Re&&(t.directives=Re)}function Er(t,e,i=mt){I(t)&&(t=Bi(t));for(const s in t){const n=t[s];let o;U(n)?"default"in n?o=Je(n.from||s,n.default,!0):o=Je(n.from||s):o=Je(n),Y(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[s]=o}}function Ss(t,e,i){ft(I(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,i)}function Bn(t,e,i,s){const n=s.includes(".")?Sn(i,s):()=>i[s];if(J(t)){const o=e[t];C(o)&&Oi(n,o)}else if(C(t))Oi(n,t.bind(i));else if(U(t))if(I(t))t.forEach(o=>Bn(o,e,i,s));else{const o=C(t.handler)?t.handler.bind(i):e[t.handler];C(o)&&Oi(n,o,t)}}function ls(t){const e=t.type,{mixins:i,extends:s}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,l=o.get(e);let h;return l?h=l:!n.length&&!i&&!s?h=e:(h={},n.length&&n.forEach(u=>ei(h,u,r,!0)),ei(h,e,r)),U(e)&&o.set(e,h),h}function ei(t,e,i,s=!1){const{mixins:n,extends:o}=e;o&&ei(t,o,i,!0),n&&n.forEach(r=>ei(t,r,i,!0));for(const r in e)if(!(s&&r==="expose")){const l=Cr[r]||i&&i[r];t[r]=l?l(t[r],e[r]):e[r]}return t}const Cr={data:As,props:Rs,emits:Rs,methods:we,computed:we,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:we,directives:we,watch:Dr,provide:As,inject:$r};function As(t,e){return e?t?function(){return X(C(t)?t.call(this,this):t,C(e)?e.call(this,this):e)}:e:t}function $r(t,e){return we(Bi(t),Bi(e))}function Bi(t){if(I(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function et(t,e){return t?[...new Set([].concat(t,e))]:e}function we(t,e){return t?X(Object.create(null),t,e):e}function Rs(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:X(Object.create(null),Ts(t),Ts(e??{})):e}function Dr(t,e){if(!t)return e;if(!e)return t;const i=X(Object.create(null),t);for(const s in e)i[s]=et(t[s],e[s]);return i}function Kn(){return{app:null,config:{isNativeTag:co,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kr=0;function Tr(t,e){return function(s,n=null){C(s)||(s=X({},s)),n!=null&&!U(n)&&(n=null);const o=Kn(),r=new WeakSet;let l=!1;const h=o.app={_uid:kr++,_component:s,_props:n,_container:null,_context:o,_instance:null,version:cl,get config(){return o.config},set config(u){},use(u,...f){return r.has(u)||(u&&C(u.install)?(r.add(u),u.install(h,...f)):C(u)&&(r.add(u),u(h,...f))),h},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),h},component(u,f){return f?(o.components[u]=f,h):o.components[u]},directive(u,f){return f?(o.directives[u]=f,h):o.directives[u]},mount(u,f,g){if(!l){const L=zt(s,n);return L.appContext=o,f&&e?e(L,u):t(L,u,g),l=!0,h._container=u,u.__vue_app__=h,pi(L.component)||L.component.proxy}},unmount(){l&&(t(null,h._container),delete h._container.__vue_app__)},provide(u,f){return o.provides[u]=f,h},runWithContext(u){ii=h;try{return u()}finally{ii=null}}};return h}}let ii=null;function Sr(t,e){if(G){let i=G.provides;const s=G.parent&&G.parent.provides;s===i&&(i=G.provides=Object.create(s)),i[t]=e}}function Je(t,e,i=!1){const s=G||at;if(s||ii){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ii._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return i&&C(e)?e.call(s&&s.proxy):e}}function Ar(t,e,i,s=!1){const n={},o={};Qe(o,di,1),t.propsDefaults=Object.create(null),Hn(t,e,n,o);for(const r in t.propsOptions[0])r in n||(n[r]=void 0);i?t.props=s?n:Wo(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function Rr(t,e,i,s){const{props:n,attrs:o,vnode:{patchFlag:r}}=t,l=S(n),[h]=t.propsOptions;let u=!1;if((s||r>0)&&!(r&16)){if(r&8){const f=t.vnode.dynamicProps;for(let g=0;g<f.length;g++){let L=f[g];if(hi(t.emitsOptions,L))continue;const w=e[L];if(h)if(T(o,L))w!==o[L]&&(o[L]=w,u=!0);else{const $=oe(L);n[$]=Ki(h,l,$,w,t,!1)}else w!==o[L]&&(o[L]=w,u=!0)}}}else{Hn(t,e,n,o)&&(u=!0);let f;for(const g in l)(!e||!T(e,g)&&((f=fe(g))===g||!T(e,f)))&&(h?i&&(i[g]!==void 0||i[f]!==void 0)&&(n[g]=Ki(h,l,g,void 0,t,!0)):delete n[g]);if(o!==l)for(const g in o)(!e||!T(e,g))&&(delete o[g],u=!0)}u&&wt(t,"set","$attrs")}function Hn(t,e,i,s){const[n,o]=t.propsOptions;let r=!1,l;if(e)for(let h in e){if(Ze(h))continue;const u=e[h];let f;n&&T(n,f=oe(h))?!o||!o.includes(f)?i[f]=u:(l||(l={}))[f]=u:hi(t.emitsOptions,h)||(!(h in s)||u!==s[h])&&(s[h]=u,r=!0)}if(o){const h=S(i),u=l||z;for(let f=0;f<o.length;f++){const g=o[f];i[g]=Ki(n,h,g,u[g],t,!T(u,g))}}return r}function Ki(t,e,i,s,n,o){const r=t[i];if(r!=null){const l=T(r,"default");if(l&&s===void 0){const h=r.default;if(r.type!==Function&&!r.skipFactory&&C(h)){const{propsDefaults:u}=n;i in u?s=u[i]:(ce(n),s=u[i]=h.call(null,e),Ut())}else s=h}r[0]&&(o&&!l?s=!1:r[1]&&(s===""||s===fe(i))&&(s=!0))}return s}function zn(t,e,i=!1){const s=e.propsCache,n=s.get(t);if(n)return n;const o=t.props,r={},l=[];let h=!1;if(!C(t)){const f=g=>{h=!0;const[L,w]=zn(g,e,!0);X(r,L),w&&l.push(...w)};!i&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!o&&!h)return U(t)&&s.set(t,te),te;if(I(o))for(let f=0;f<o.length;f++){const g=oe(o[f]);Ns(g)&&(r[g]=z)}else if(o)for(const f in o){const g=oe(f);if(Ns(g)){const L=o[f],w=r[g]=I(L)||C(L)?{type:L}:X({},L);if(w){const $=Ks(Boolean,w.type),P=Ks(String,w.type);w[0]=$>-1,w[1]=P<0||$<P,($>-1||T(w,"default"))&&l.push(g)}}}const u=[r,l];return U(t)&&s.set(t,u),u}function Ns(t){return t[0]!=="$"}function Fs(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Bs(t,e){return Fs(t)===Fs(e)}function Ks(t,e){return I(e)?e.findIndex(i=>Bs(i,t)):C(e)&&Bs(e,t)?0:-1}const Un=t=>t[0]==="_"||t==="$stable",cs=t=>I(t)?t.map(yt):[yt(t)],Nr=(t,e,i)=>{if(e._n)return e;const s=rr((...n)=>cs(e(...n)),i);return s._c=!1,s},Wn=(t,e,i)=>{const s=t._ctx;for(const n in t){if(Un(n))continue;const o=t[n];if(C(o))e[n]=Nr(n,o,s);else if(o!=null){const r=cs(o);e[n]=()=>r}}},Zn=(t,e)=>{const i=cs(e);t.slots.default=()=>i},Fr=(t,e)=>{if(t.vnode.shapeFlag&32){const i=e._;i?(t.slots=S(e),Qe(e,"_",i)):Wn(e,t.slots={})}else t.slots={},e&&Zn(t,e);Qe(t.slots,di,1)},Br=(t,e,i)=>{const{vnode:s,slots:n}=t;let o=!0,r=z;if(s.shapeFlag&32){const l=e._;l?i&&l===1?o=!1:(X(n,e),!i&&l===1&&delete n._):(o=!e.$stable,Wn(e,n)),r=e}else e&&(Zn(t,e),r={default:1});if(o)for(const l in n)!Un(l)&&r[l]==null&&delete n[l]};function Hi(t,e,i,s,n=!1){if(I(t)){t.forEach((L,w)=>Hi(L,e&&(I(e)?e[w]:e),i,s,n));return}if(Ye(s)&&!n)return;const o=s.shapeFlag&4?pi(s.component)||s.component.proxy:s.el,r=n?null:o,{i:l,r:h}=t,u=e&&e.r,f=l.refs===z?l.refs={}:l.refs,g=l.setupState;if(u!=null&&u!==h&&(J(u)?(f[u]=null,T(g,u)&&(g[u]=null)):Y(u)&&(u.value=null)),C(h))$t(h,l,12,[r,f]);else{const L=J(h),w=Y(h);if(L||w){const $=()=>{if(t.f){const P=L?T(g,h)?g[h]:f[h]:h.value;n?I(P)&&Ji(P,o):I(P)?P.includes(o)||P.push(o):L?(f[h]=[o],T(g,h)&&(g[h]=f[h])):(h.value=[o],t.k&&(f[t.k]=h.value))}else L?(f[h]=r,T(g,h)&&(g[h]=r)):w&&(h.value=r,t.k&&(f[t.k]=r))};r?($.id=-1,it($,i)):$()}}}const it=dr;function Kr(t){return Hr(t)}function Hr(t,e){const i=Di();i.__VUE__=!0;const{insert:s,remove:n,patchProp:o,createElement:r,createText:l,createComment:h,setText:u,setElementText:f,parentNode:g,nextSibling:L,setScopeId:w=mt,insertStaticContent:$}=t,P=(c,a,d,p=null,x=null,m=null,O=!1,b=null,v=!!a.dynamicChildren)=>{if(c===a)return;c&&!be(c,a)&&(p=Fe(c),pt(c,x,m,!0),c=null),a.patchFlag===-2&&(v=!1,a.dynamicChildren=null);const{type:y,ref:_,shapeFlag:M}=a;switch(y){case fi:A(c,a,d,p);break;case De:N(c,a,d,p);break;case _i:c==null&&F(a,d,p,O);break;case ct:Ae(c,a,d,p,x,m,O,b,v);break;default:M&1?dt(c,a,d,p,x,m,O,b,v):M&6?Re(c,a,d,p,x,m,O,b,v):(M&64||M&128)&&y.process(c,a,d,p,x,m,O,b,v,qt)}_!=null&&x&&Hi(_,c&&c.ref,m,a||c,!a)},A=(c,a,d,p)=>{if(c==null)s(a.el=l(a.children),d,p);else{const x=a.el=c.el;a.children!==c.children&&u(x,a.children)}},N=(c,a,d,p)=>{c==null?s(a.el=h(a.children||""),d,p):a.el=c.el},F=(c,a,d,p)=>{[c.el,c.anchor]=$(c.children,a,d,p,c.el,c.anchor)},q=({el:c,anchor:a},d,p)=>{let x;for(;c&&c!==a;)x=L(c),s(c,d,p),c=x;s(a,d,p)},D=({el:c,anchor:a})=>{let d;for(;c&&c!==a;)d=L(c),n(c),c=d;n(a)},dt=(c,a,d,p,x,m,O,b,v)=>{O=O||a.type==="svg",c==null?Zt(a,d,p,x,m,O,b,v):yi(c,a,x,m,O,b,v)},Zt=(c,a,d,p,x,m,O,b)=>{let v,y;const{type:_,props:M,shapeFlag:j,transition:E,dirs:k}=c;if(v=c.el=r(c.type,m,M&&M.is,M),j&8?f(v,c.children):j&16&&Mt(c.children,v,null,p,x,m&&_!=="foreignObject",O,b),k&&At(c,null,p,"created"),xe(v,c,c.scopeId,O,p),M){for(const R in M)R!=="value"&&!Ze(R)&&o(v,R,null,M[R],m,c.children,p,x,vt);"value"in M&&o(v,"value",null,M.value),(y=M.onVnodeBeforeMount)&&gt(y,p,c)}k&&At(c,null,p,"beforeMount");const K=zr(x,E);K&&E.beforeEnter(v),s(v,a,d),((y=M&&M.onVnodeMounted)||K||k)&&it(()=>{y&&gt(y,p,c),K&&E.enter(v),k&&At(c,null,p,"mounted")},x)},xe=(c,a,d,p,x)=>{if(d&&w(c,d),p)for(let m=0;m<p.length;m++)w(c,p[m]);if(x){let m=x.subTree;if(a===m){const O=x.vnode;xe(c,O,O.scopeId,O.slotScopeIds,x.parent)}}},Mt=(c,a,d,p,x,m,O,b,v=0)=>{for(let y=v;y<c.length;y++){const _=c[y]=b?Et(c[y]):yt(c[y]);P(null,_,a,d,p,x,m,O,b)}},yi=(c,a,d,p,x,m,O)=>{const b=a.el=c.el;let{patchFlag:v,dynamicChildren:y,dirs:_}=a;v|=c.patchFlag&16;const M=c.props||z,j=a.props||z;let E;d&&Rt(d,!1),(E=j.onVnodeBeforeUpdate)&&gt(E,d,a,c),_&&At(a,c,d,"beforeUpdate"),d&&Rt(d,!0);const k=x&&a.type!=="foreignObject";if(y?kt(c.dynamicChildren,y,b,d,p,k,m):O||B(c,a,b,null,d,p,k,m,!1),v>0){if(v&16)ge(b,a,M,j,d,p,x);else if(v&2&&M.class!==j.class&&o(b,"class",null,j.class,x),v&4&&o(b,"style",M.style,j.style,x),v&8){const K=a.dynamicProps;for(let R=0;R<K.length;R++){const Z=K[R],ot=M[Z],Yt=j[Z];(Yt!==ot||Z==="value")&&o(b,Z,ot,Yt,x,c.children,d,p,vt)}}v&1&&c.children!==a.children&&f(b,a.children)}else!O&&y==null&&ge(b,a,M,j,d,p,x);((E=j.onVnodeUpdated)||_)&&it(()=>{E&&gt(E,d,a,c),_&&At(a,c,d,"updated")},p)},kt=(c,a,d,p,x,m,O)=>{for(let b=0;b<a.length;b++){const v=c[b],y=a[b],_=v.el&&(v.type===ct||!be(v,y)||v.shapeFlag&70)?g(v.el):d;P(v,y,_,null,p,x,m,O,!0)}},ge=(c,a,d,p,x,m,O)=>{if(d!==p){if(d!==z)for(const b in d)!Ze(b)&&!(b in p)&&o(c,b,d[b],null,O,a.children,x,m,vt);for(const b in p){if(Ze(b))continue;const v=p[b],y=d[b];v!==y&&b!=="value"&&o(c,b,y,v,O,a.children,x,m,vt)}"value"in p&&o(c,"value",d.value,p.value)}},Ae=(c,a,d,p,x,m,O,b,v)=>{const y=a.el=c?c.el:l(""),_=a.anchor=c?c.anchor:l("");let{patchFlag:M,dynamicChildren:j,slotScopeIds:E}=a;E&&(b=b?b.concat(E):E),c==null?(s(y,d,p),s(_,d,p),Mt(a.children,d,_,x,m,O,b,v)):M>0&&M&64&&j&&c.dynamicChildren?(kt(c.dynamicChildren,j,d,x,m,O,b),(a.key!=null||x&&a===x.subTree)&&qn(c,a,!0)):B(c,a,d,_,x,m,O,b,v)},Re=(c,a,d,p,x,m,O,b,v)=>{a.slotScopeIds=b,c==null?a.shapeFlag&512?x.ctx.activate(a,d,p,O,v):bi(a,d,p,x,m,O,v):ys(c,a,v)},bi=(c,a,d,p,x,m,O)=>{const b=c.component=tl(c,p,x);if(An(c)&&(b.ctx.renderer=qt),el(b),b.asyncDep){if(x&&x.registerDep(b,tt),!c.el){const v=b.subTree=zt(De);N(null,v,a,d)}return}tt(b,c,a,d,x,m,O)},ys=(c,a,d)=>{const p=a.component=c.component;if(hr(c,a,d))if(p.asyncDep&&!p.asyncResolved){W(p,a,d);return}else p.next=a,tr(p.update),p.update();else a.el=c.el,p.vnode=a},tt=(c,a,d,p,x,m,O)=>{const b=()=>{if(c.isMounted){let{next:_,bu:M,u:j,parent:E,vnode:k}=c,K=_,R;Rt(c,!1),_?(_.el=k.el,W(c,_,O)):_=k,M&&qe(M),(R=_.props&&_.props.onVnodeBeforeUpdate)&&gt(R,E,_,k),Rt(c,!0);const Z=wi(c),ot=c.subTree;c.subTree=Z,P(ot,Z,g(ot.el),Fe(ot),c,x,m),_.el=Z.el,K===null&&ar(c,Z.el),j&&it(j,x),(R=_.props&&_.props.onVnodeUpdated)&&it(()=>gt(R,E,_,k),x)}else{let _;const{el:M,props:j}=a,{bm:E,m:k,parent:K}=c,R=Ye(a);if(Rt(c,!1),E&&qe(E),!R&&(_=j&&j.onVnodeBeforeMount)&&gt(_,K,a),Rt(c,!0),M&&vi){const Z=()=>{c.subTree=wi(c),vi(M,c.subTree,c,x,null)};R?a.type.__asyncLoader().then(()=>!c.isUnmounted&&Z()):Z()}else{const Z=c.subTree=wi(c);P(null,Z,d,p,c,x,m),a.el=Z.el}if(k&&it(k,x),!R&&(_=j&&j.onVnodeMounted)){const Z=a;it(()=>gt(_,K,Z),x)}(a.shapeFlag&256||K&&Ye(K.vnode)&&K.vnode.shapeFlag&256)&&c.a&&it(c.a,x),c.isMounted=!0,a=d=p=null}},v=c.effect=new Gi(b,()=>rs(y),c.scope),y=c.update=()=>v.run();y.id=c.uid,Rt(c,!0),y()},W=(c,a,d)=>{a.component=c;const p=c.vnode.props;c.vnode=a,c.next=null,Rr(c,a.props,p,d),Br(c,a.children,d),de(),$s(),pe()},B=(c,a,d,p,x,m,O,b,v=!1)=>{const y=c&&c.children,_=c?c.shapeFlag:0,M=a.children,{patchFlag:j,shapeFlag:E}=a;if(j>0){if(j&128){Ne(y,M,d,p,x,m,O,b,v);return}else if(j&256){Tt(y,M,d,p,x,m,O,b,v);return}}E&8?(_&16&&vt(y,x,m),M!==y&&f(d,M)):_&16?E&16?Ne(y,M,d,p,x,m,O,b,v):vt(y,x,m,!0):(_&8&&f(d,""),E&16&&Mt(M,d,p,x,m,O,b,v))},Tt=(c,a,d,p,x,m,O,b,v)=>{c=c||te,a=a||te;const y=c.length,_=a.length,M=Math.min(y,_);let j;for(j=0;j<M;j++){const E=a[j]=v?Et(a[j]):yt(a[j]);P(c[j],E,d,null,x,m,O,b,v)}y>_?vt(c,x,m,!0,!1,M):Mt(a,d,p,x,m,O,b,v,M)},Ne=(c,a,d,p,x,m,O,b,v)=>{let y=0;const _=a.length;let M=c.length-1,j=_-1;for(;y<=M&&y<=j;){const E=c[y],k=a[y]=v?Et(a[y]):yt(a[y]);if(be(E,k))P(E,k,d,null,x,m,O,b,v);else break;y++}for(;y<=M&&y<=j;){const E=c[M],k=a[j]=v?Et(a[j]):yt(a[j]);if(be(E,k))P(E,k,d,null,x,m,O,b,v);else break;M--,j--}if(y>M){if(y<=j){const E=j+1,k=E<_?a[E].el:p;for(;y<=j;)P(null,a[y]=v?Et(a[y]):yt(a[y]),d,k,x,m,O,b,v),y++}}else if(y>j)for(;y<=M;)pt(c[y],x,m,!0),y++;else{const E=y,k=y,K=new Map;for(y=k;y<=j;y++){const nt=a[y]=v?Et(a[y]):yt(a[y]);nt.key!=null&&K.set(nt.key,y)}let R,Z=0;const ot=j-k+1;let Yt=!1,vs=0;const ye=new Array(ot);for(y=0;y<ot;y++)ye[y]=0;for(y=E;y<=M;y++){const nt=c[y];if(Z>=ot){pt(nt,x,m,!0);continue}let xt;if(nt.key!=null)xt=K.get(nt.key);else for(R=k;R<=j;R++)if(ye[R-k]===0&&be(nt,a[R])){xt=R;break}xt===void 0?pt(nt,x,m,!0):(ye[xt-k]=y+1,xt>=vs?vs=xt:Yt=!0,P(nt,a[xt],d,null,x,m,O,b,v),Z++)}const Ls=Yt?Ur(ye):te;for(R=Ls.length-1,y=ot-1;y>=0;y--){const nt=k+y,xt=a[nt],ws=nt+1<_?a[nt+1].el:p;ye[y]===0?P(null,xt,d,ws,x,m,O,b,v):Yt&&(R<0||y!==Ls[R]?St(xt,d,ws,2):R--)}}},St=(c,a,d,p,x=null)=>{const{el:m,type:O,transition:b,children:v,shapeFlag:y}=c;if(y&6){St(c.component.subTree,a,d,p);return}if(y&128){c.suspense.move(a,d,p);return}if(y&64){O.move(c,a,d,qt);return}if(O===ct){s(m,a,d);for(let M=0;M<v.length;M++)St(v[M],a,d,p);s(c.anchor,a,d);return}if(O===_i){q(c,a,d);return}if(p!==2&&y&1&&b)if(p===0)b.beforeEnter(m),s(m,a,d),it(()=>b.enter(m),x);else{const{leave:M,delayLeave:j,afterLeave:E}=b,k=()=>s(m,a,d),K=()=>{M(m,()=>{k(),E&&E()})};j?j(m,k,K):K()}else s(m,a,d)},pt=(c,a,d,p=!1,x=!1)=>{const{type:m,props:O,ref:b,children:v,dynamicChildren:y,shapeFlag:_,patchFlag:M,dirs:j}=c;if(b!=null&&Hi(b,null,d,c,!0),_&256){a.ctx.deactivate(c);return}const E=_&1&&j,k=!Ye(c);let K;if(k&&(K=O&&O.onVnodeBeforeUnmount)&&gt(K,a,c),_&6)lo(c.component,d,p);else{if(_&128){c.suspense.unmount(d,p);return}E&&At(c,null,a,"beforeUnmount"),_&64?c.type.remove(c,a,d,x,qt,p):y&&(m!==ct||M>0&&M&64)?vt(y,a,d,!1,!0):(m===ct&&M&384||!x&&_&16)&&vt(v,a,d),p&&bs(c)}(k&&(K=O&&O.onVnodeUnmounted)||E)&&it(()=>{K&&gt(K,a,c),E&&At(c,null,a,"unmounted")},d)},bs=c=>{const{type:a,el:d,anchor:p,transition:x}=c;if(a===ct){ro(d,p);return}if(a===_i){D(c);return}const m=()=>{n(d),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(c.shapeFlag&1&&x&&!x.persisted){const{leave:O,delayLeave:b}=x,v=()=>O(d,m);b?b(c.el,m,v):v()}else m()},ro=(c,a)=>{let d;for(;c!==a;)d=L(c),n(c),c=d;n(a)},lo=(c,a,d)=>{const{bum:p,scope:x,update:m,subTree:O,um:b}=c;p&&qe(p),x.stop(),m&&(m.active=!1,pt(O,c,a,d)),b&&it(b,a),it(()=>{c.isUnmounted=!0},a),a&&a.pendingBranch&&!a.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===a.pendingId&&(a.deps--,a.deps===0&&a.resolve())},vt=(c,a,d,p=!1,x=!1,m=0)=>{for(let O=m;O<c.length;O++)pt(c[O],a,d,p,x)},Fe=c=>c.shapeFlag&6?Fe(c.component.subTree):c.shapeFlag&128?c.suspense.next():L(c.anchor||c.el),ms=(c,a,d)=>{c==null?a._vnode&&pt(a._vnode,null,null,!0):P(a._vnode||null,c,a,null,null,null,d),$s(),$n(),a._vnode=c},qt={p:P,um:pt,m:St,r:bs,mt:bi,mc:Mt,pc:B,pbc:kt,n:Fe,o:t};let mi,vi;return e&&([mi,vi]=e(qt)),{render:ms,hydrate:mi,createApp:Tr(ms,mi)}}function Rt({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function zr(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qn(t,e,i=!1){const s=t.children,n=e.children;if(I(s)&&I(n))for(let o=0;o<s.length;o++){const r=s[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=Et(n[o]),l.el=r.el),i||qn(r,l)),l.type===fi&&(l.el=r.el)}}function Ur(t){const e=t.slice(),i=[0];let s,n,o,r,l;const h=t.length;for(s=0;s<h;s++){const u=t[s];if(u!==0){if(n=i[i.length-1],t[n]<u){e[s]=n,i.push(s);continue}for(o=0,r=i.length-1;o<r;)l=o+r>>1,t[i[l]]<u?o=l+1:r=l;u<t[i[o]]&&(o>0&&(e[s]=i[o-1]),i[o]=s)}}for(o=i.length,r=i[o-1];o-- >0;)i[o]=r,r=e[r];return i}const Wr=t=>t.__isTeleport,ct=Symbol.for("v-fgt"),fi=Symbol.for("v-txt"),De=Symbol.for("v-cmt"),_i=Symbol.for("v-stc"),Pe=[];let ut=null;function Jt(t=!1){Pe.push(ut=t?null:[])}function Zr(){Pe.pop(),ut=Pe[Pe.length-1]||null}let ke=1;function Hs(t){ke+=t}function qr(t){return t.dynamicChildren=ke>0?ut||te:null,Zr(),ke>0&&ut&&ut.push(t),t}function Vt(t,e,i,s,n,o){return qr(H(t,e,i,s,n,o,!0))}function Yr(t){return t?t.__v_isVNode===!0:!1}function be(t,e){return t.type===e.type&&t.key===e.key}const di="__vInternal",Yn=({key:t})=>t??null,Ve=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?J(t)||Y(t)||C(t)?{i:at,r:t,k:e,f:!!i}:t:null);function H(t,e=null,i=null,s=0,n=null,o=t===ct?0:1,r=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yn(e),ref:e&&Ve(e),scopeId:ai,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:at};return l?(hs(h,i),o&128&&t.normalize(h)):i&&(h.shapeFlag|=J(i)?8:16),ke>0&&!r&&ut&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&ut.push(h),h}const zt=Jr;function Jr(t,e=null,i=null,s=0,n=null,o=!1){if((!t||t===ur)&&(t=De),Yr(t)){const l=le(t,e,!0);return i&&hs(l,i),ke>0&&!o&&ut&&(l.shapeFlag&6?ut[ut.indexOf(t)]=l:ut.push(l)),l.patchFlag|=-2,l}if(ol(t)&&(t=t.__vccOpts),e){e=Vr(e);let{class:l,style:h}=e;l&&!J(l)&&(e.class=Xi(l)),U(h)&&(Pn(h)&&!I(h)&&(h=X({},h)),e.style=Ie(h))}const r=J(t)?1:fr(t)?128:Wr(t)?64:U(t)?4:C(t)?2:0;return H(t,e,i,s,n,r,o,!0)}function Vr(t){return t?Pn(t)||di in t?X({},t):t:null}function le(t,e,i=!1){const{props:s,ref:n,patchFlag:o,children:r}=t,l=e?Xr(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Yn(l),ref:e&&e.ref?i&&n?I(n)?n.concat(Ve(e)):[n,Ve(e)]:Ve(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ct?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&le(t.ssContent),ssFallback:t.ssFallback&&le(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Kt(t=" ",e=0){return zt(fi,null,t,e)}function yt(t){return t==null||typeof t=="boolean"?zt(De):I(t)?zt(ct,null,t.slice()):typeof t=="object"?Et(t):zt(fi,null,String(t))}function Et(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:le(t)}function hs(t,e){let i=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(I(e))i=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),hs(t,n()),n._c&&(n._d=!0));return}else{i=32;const n=e._;!n&&!(di in e)?e._ctx=at:n===3&&at&&(at.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else C(e)?(e={default:e,_ctx:at},i=32):(e=String(e),s&64?(i=16,e=[Kt(e)]):i=8);t.children=e,t.shapeFlag|=i}function Xr(...t){const e={};for(let i=0;i<t.length;i++){const s=t[i];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=Xi([e.class,s.class]));else if(n==="style")e.style=Ie([e.style,s.style]);else if(si(n)){const o=e[n],r=s[n];r&&o!==r&&!(I(o)&&o.includes(r))&&(e[n]=o?[].concat(o,r):r)}else n!==""&&(e[n]=s[n])}return e}function gt(t,e,i,s=null){ft(t,e,7,[i,s])}const Qr=Kn();let Gr=0;function tl(t,e,i){const s=t.type,n=(e?e.appContext:t.appContext)||Qr,o={uid:Gr++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new wo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zn(s,n),emitsOptions:kn(s,n),emit:null,emitted:null,propsDefaults:z,inheritAttrs:s.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=sr.bind(null,o),t.ce&&t.ce(o),o}let G=null,as,Xt,zs="__VUE_INSTANCE_SETTERS__";(Xt=Di()[zs])||(Xt=Di()[zs]=[]),Xt.push(t=>G=t),as=t=>{Xt.length>1?Xt.forEach(e=>e(t)):Xt[0](t)};const ce=t=>{as(t),t.scope.on()},Ut=()=>{G&&G.scope.off(),as(null)};function Jn(t){return t.vnode.shapeFlag&4}let Te=!1;function el(t,e=!1){Te=e;const{props:i,children:s}=t.vnode,n=Jn(t);Ar(t,i,n,e),Fr(t,s);const o=n?il(t,e):void 0;return Te=!1,o}function il(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=Mn(new Proxy(t.ctx,jr));const{setup:s}=i;if(s){const n=t.setupContext=s.length>1?nl(t):null;ce(t),de();const o=$t(s,t,0,[t.props,n]);if(pe(),Ut(),ln(o)){if(o.then(Ut,Ut),e)return o.then(r=>{Us(t,r,e)}).catch(r=>{ci(r,t,0)});t.asyncDep=o}else Us(t,o,e)}else Vn(t,e)}function Us(t,e,i){C(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:U(e)&&(t.setupState=In(e)),Vn(t,i)}let Ws;function Vn(t,e,i){const s=t.type;if(!t.render){if(!e&&Ws&&!s.render){const n=s.template||ls(t).template;if(n){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:l,compilerOptions:h}=s,u=X(X({isCustomElement:o,delimiters:l},r),h);s.render=Ws(n,u)}}t.render=s.render||mt}{ce(t),de();try{Ir(t)}finally{pe(),Ut()}}}function sl(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,i){return st(t,"get","$attrs"),e[i]}}))}function nl(t){const e=i=>{t.exposed=i||{}};return{get attrs(){return sl(t)},slots:t.slots,emit:t.emit,expose:e}}function pi(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(In(Mn(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in Oe)return Oe[i](t)},has(e,i){return i in e||i in Oe}}))}function ol(t){return C(t)&&"__vccOpts"in t}const Xn=(t,e)=>Vo(t,e,Te),rl=Symbol.for("v-scx"),ll=()=>Je(rl),cl="3.3.9",hl="http://www.w3.org/2000/svg",Ft=typeof document<"u"?document:null,Zs=Ft&&Ft.createElement("template"),al={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,s)=>{const n=e?Ft.createElementNS(hl,t):Ft.createElement(t,i?{is:i}:void 0);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>Ft.createTextNode(t),createComment:t=>Ft.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ft.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,s,n,o){const r=i?i.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),i),!(n===o||!(n=n.nextSibling)););else{Zs.innerHTML=s?`<svg>${t}</svg>`:t;const l=Zs.content;if(s){const h=l.firstChild;for(;h.firstChild;)l.appendChild(h.firstChild);l.removeChild(h)}e.insertBefore(l,i)}return[r?r.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},ul=Symbol("_vtc");function fl(t,e,i){const s=t[ul];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const dl=Symbol("_vod");function pl(t,e,i){const s=t.style,n=J(i);if(i&&!n){if(e&&!J(e))for(const o in e)i[o]==null&&zi(s,o,"");for(const o in i)zi(s,o,i[o])}else{const o=s.display;n?e!==i&&(s.cssText=i):e&&t.removeAttribute("style"),dl in t&&(s.display=o)}}const qs=/\s*!important$/;function zi(t,e,i){if(I(i))i.forEach(s=>zi(t,e,s));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const s=xl(t,e);qs.test(i)?t.setProperty(fe(s),i.replace(qs,""),"important"):t[s]=i}}const Ys=["Webkit","Moz","ms"],ji={};function xl(t,e){const i=ji[e];if(i)return i;let s=oe(e);if(s!=="filter"&&s in t)return ji[e]=s;s=an(s);for(let n=0;n<Ys.length;n++){const o=Ys[n]+s;if(o in t)return ji[e]=o}return e}const Js="http://www.w3.org/1999/xlink";function gl(t,e,i,s,n){if(s&&e.startsWith("xlink:"))i==null?t.removeAttributeNS(Js,e.slice(6,e.length)):t.setAttributeNS(Js,e,i);else{const o=vo(e);i==null||o&&!un(i)?t.removeAttribute(e):t.setAttribute(e,o?"":i)}}function yl(t,e,i,s,n,o,r){if(e==="innerHTML"||e==="textContent"){s&&r(s,n,o),t[e]=i??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=i;const u=l==="OPTION"?t.getAttribute("value"):t.value,f=i??"";u!==f&&(t.value=f),i==null&&t.removeAttribute(e);return}let h=!1;if(i===""||i==null){const u=typeof t[e];u==="boolean"?i=un(i):i==null&&u==="string"?(i="",h=!0):u==="number"&&(i=0,h=!0)}try{t[e]=i}catch{}h&&t.removeAttribute(e)}function Qt(t,e,i,s){t.addEventListener(e,i,s)}function bl(t,e,i,s){t.removeEventListener(e,i,s)}const Vs=Symbol("_vei");function ml(t,e,i,s,n=null){const o=t[Vs]||(t[Vs]={}),r=o[e];if(s&&r)r.value=s;else{const[l,h]=vl(e);if(s){const u=o[e]=Ol(s,n);Qt(t,l,u,h)}else r&&(bl(t,l,r,h),o[e]=void 0)}}const Xs=/(?:Once|Passive|Capture)$/;function vl(t){let e;if(Xs.test(t)){e={};let s;for(;s=t.match(Xs);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):fe(t.slice(2)),e]}let Ii=0;const Ll=Promise.resolve(),wl=()=>Ii||(Ll.then(()=>Ii=0),Ii=Date.now());function Ol(t,e){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;ft(Pl(s,i.value),e,5,[s])};return i.value=t,i.attached=wl(),i}function Pl(t,e){if(I(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Qs=/^on[a-z]/,Ml=(t,e,i,s,n=!1,o,r,l,h)=>{e==="class"?fl(t,s,n):e==="style"?pl(t,i,s):si(e)?Yi(e)||ml(t,e,i,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_l(t,e,s,n))?yl(t,e,s,o,r,l,h):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),gl(t,e,s,n))};function _l(t,e,i,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Qs.test(e)&&C(i)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Qs.test(e)&&J(i)?!1:e in t}const Gs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return I(e)?i=>qe(e,i):e};function jl(t){t.target.composing=!0}function tn(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ei=Symbol("_assign"),Ci={created(t,{modifiers:{lazy:e,trim:i,number:s}},n){t[Ei]=Gs(n);const o=s||n.props&&n.props.type==="number";Qt(t,e?"change":"input",r=>{if(r.target.composing)return;let l=t.value;i&&(l=l.trim()),o&&(l=$i(l)),t[Ei](l)}),i&&Qt(t,"change",()=>{t.value=t.value.trim()}),e||(Qt(t,"compositionstart",jl),Qt(t,"compositionend",tn),Qt(t,"change",tn))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:s,number:n}},o){if(t[Ei]=Gs(o),t.composing)return;const r=n||t.type==="number"?$i(t.value):t.value,l=e??"";r!==l&&(document.activeElement===t&&t.type!=="range"&&(i||s&&t.value.trim()===l)||(t.value=l))}},Il=X({patchProp:Ml},al);let en;function El(){return en||(en=Kr(Il))}const Cl=(...t)=>{const e=El().createApp(...t),{mount:i}=e;return e.mount=s=>{const n=$l(s);if(!n)return;const o=e._component;!C(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const r=i(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},e};function $l(t){return J(t)?document.querySelector(t):t}function ne(t,e,i,s){return new(i||(i=Promise))(function(n,o){function r(u){try{h(s.next(u))}catch(f){o(f)}}function l(u){try{h(s.throw(u))}catch(f){o(f)}}function h(u){var f;u.done?n(u.value):(f=u.value,f instanceof i?f:new i(function(g){g(f)})).then(r,l)}h((s=s.apply(t,e||[])).next())})}const Dl={_events:Object.create(null),on(t,e){this._events[t]?this._events[t].push(e):this._events[t]=[e]},on_(t,e,i){return i&&(e=e.bind(i)),this.on(t,e),{type:t,listener:e}},off(t,e){this._events[t]&&(this._events[t]=this._events[t].filter(i=>i!==e))},off_(t){if(!t)return;const e=t instanceof Array?t:[t];e.forEach(i=>this.off(i.type,i.listener)),e.length=0},emit(t,...e){this._events[t]&&this._events[t].forEach(i=>i.call(this,...e))}},kl=["destroy","constructor"],sn={},us={set(t,e=1,i=0,s=0,n=1,o=0,r=0){t.a=e,t.b=i,t.c=s,t.d=n,t.e=o,t.f=r},get:function(){return{a:1,b:0,c:0,d:1,e:0,f:0}},translateInner(t,e,i){t.e+=t.a*e+t.c*i,t.f+=t.b*e+t.d*i},scale(t,e,i=e){t.a*=e,t.b*=e,t.c*=i,t.d*=i},scaleOfInner(t,e,i,s=i){me.translateInner(t,e.x,e.y),me.scale(t,i,s),me.translateInner(t,-e.x,-e.y)},scaleOfOuter(t,e,i,s=i){me.toInnerPoint(t,e,sn),me.scaleOfInner(t,sn,i,s)},toInnerPoint(t,e,i,s){const{x:n,y:o}=e,{a:r,b:l,c:h,d:u}=t,f=1/(r*u-l*h);if(i||(i=e),i.x=(n*u-o*h)*f,i.y=(o*r-n*l)*f,!s){const{e:g,f:L}=t;i.x-=(g*u-L*h)*f,i.y-=(L*r-g*l)*f}}},me=us;function he(t,e,i,s){let n=1/0,o=-1;return e.forEach((r,l)=>{let h=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));h<n&&(n=h,o=l)}),n<i/s?o:-1}const Qn=(t,e,i=50,s=40)=>{const{x:n,y:o}=t,{x:r,y:l}=e;let h=Math.atan2(l-o,r-n);return[{x:r-i*Math.cos(h+s*Math.PI/180),y:l-i*Math.sin(h+s*Math.PI/180)},{x:r-i*Math.cos(h-s*Math.PI/180),y:l-i*Math.sin(h-s*Math.PI/180)}]},Ui=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Gn(t,e){return t.x===e.x&&t.y===e.y}function xi(t,e){let i=!1,s=1/0;for(let n=0,o=e.length-1;n<e.length;o=n++){const r=e[n].x,l=e[n].y,h=e[o].x,u=e[o].y;l>t.y!=u>t.y&&t.x<(h-r)*(t.y-l)/(u-l)+r&&(i=!i);const f=h-r,g=u-l,L=((t.x-r)*f+(t.y-l)*g)/(f*f+g*g),w=Math.max(0,Math.min(1,L)),$=r+w*f,P=l+w*g,A=Math.sqrt(Math.pow(t.x-$,2)+Math.pow(t.y-P,2));A<s&&(s=A)}return i?-s:s}function fs(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return(t==="x"?e:3&e|8).toString(16)})}var Tl=Object.freeze({__proto__:null,MatrixHelper:us,getArrow:Qn,getDistance:Ui,getMinDistance:he,getSides:(t,e)=>{const{x:i,y:s}=t,{x:n,y:o}=e;return[{x:(i+n)/2-(s-o)/6,y:(s+o)/2+(i-n)/6},{x:(i+n)/2+(s-o)/6,y:(s+o)/2-(i-n)/6}]},getUUID:fs,isPointInPolygon:xi,isSamePoint:Gn});class Sl{}class Me extends Sl{constructor(e){super(),this.config=e}get __tag(){return"Circle"}draw(){const{center:e,radius:i,fillColor:s="black",ctx:n}=this.config,{x:o,y:r}=e;n.save(),n.beginPath(),n.fillStyle=s,n.arc(o,r,i,0,2*Math.PI),n.fill(),n.closePath(),n.restore()}}class to{constructor(){this.id="",this.group=[],this.pointList=[],this.oldPointList=[],this.label="",this.color="#ff0000",this.index=1,this.boxEventIds=[],this.status="draw",this.completeing=!1,this.expent=5,this.mouseDown=!1,this.lastMousePoint={x:0,y:0},this.acctivePointIndex=-1}setSelect(e){this.box.selectObject&&(this.box.selectObject.status="done",this.box.selectObject.render(),this.box.selectObject=void 0),this.status=e?"edit":"done",this.box.selectObject=this,this.render(),this.box.emit("onchange")}}class _e extends to{constructor(e){super(),this.completeOffset=30,this.id=fs(),this.minPointCount=2,this.box=e,this.index=e.markObjectList.length+1}boxMousedown(e){let i=e;this.status=="draw"&&(this.pointList=[i,i],this.mouseDown=!0),this.box.selectObject&&this.box.selectObject.id===this.id&&this.isPointInside(i)&&(this.mouseDown=!0,this.lastMousePoint=this.box.lastPoint)}setCursor(){}setMoveEdit(e){}boxMousemove(){var e;if((!this.box.selectObject||this.box.selectObject.id==this.id)&&this.completeing!=1)if(this.status=="draw"&&this.pointList[0]&&(this.pointList[1]=this.box.lastPoint,this.render()),this.setCursor(),((e=this.box.selectObject)===null||e===void 0?void 0:e.id)===this.id&&this.mouseDown&&this.status=="edit"){let i={x:this.box.lastPoint.x-this.lastMousePoint.x,y:this.box.lastPoint.y-this.lastMousePoint.y};this.acctivePointIndex==-1?this.pointList=this.pointList.map(s=>({x:s.x+i.x,y:s.y+i.y})):this.setMoveEdit(i),this.lastMousePoint=this.box.lastPoint,this.render()}else this.status=="edit"&&(this.acctivePointIndex=he(this.box.lastPoint,this.vertexList,this.expent,this.box.t.a),this.render())}boxMouseup(){if(this.mouseDown&&this.status=="edit"&&this.acctivePointIndex>-1&&(this.box.selectObject=this),this.box.selectObject){if(this.box.selectObject.id!=this.id)return;this.box.selectObject.id===this.id&&(this.status="edit",this.lastMousePoint=this.box.lastPoint,this.acctivePointIndex=he(this.lastMousePoint,this.vertexList,this.expent,this.box.t.a),this.render(),this.box.render())}else this.status!=="draw"&&(this.status="done");this.mouseDown=!1,this.status=="draw"&&this.pointList.length===2&&this.complete()}destory(){this.pointList=[],this.removeAll()}removeAll(){for(var e=0;e<this.group.length;e++)this.group[e]=null;this.group=[]}complete(){return ne(this,void 0,void 0,function*(){if(this.pointList.length<this.minPointCount)return;if(Math.max(Math.abs(this.pointList[0].x-this.pointList[1].x),Math.abs(this.pointList[0].y-this.pointList[1].y))<this.completeOffset)return this.status="draw",this.pointList=[],void this.render();this.completeing=!0;let e=yield new Promise((i,s)=>{this.box.emit("oncomplete",{ok:i,err:s})}).catch(()=>{this.completeing=!1,this.pointList=[],this.render()});e&&(this.completeing=!1,this.label=e==null?void 0:e.label,this.color=e==null?void 0:e.color,this.status="done",this.render(),this.box.render(),this.box.addObjectData())})}get vertexList(){return this.pointList}get resultPoints(){return this.pointList}get pathData(){let e="";return this.pointList.length&&(this.pointList.forEach((i,s)=>{e+=s===0?`M${i.x},${i.y}`:`L${i.x},${i.y}`}),e+="Z "),e}get indexPoint(){return this.pointList[0]}render(){this.removeAll();let{config:e,regionCtx:i,t:{a:s}}=this.box;this.box.selectObject||this.box.clearCanvas(i),i.lineWidth=e.lineWidth/s,i.strokeStyle=this.status==="draw"?e.drawColor:this.color;let n=new Path2D(this.pathData);this.group.push(n),this.status==="draw"&&i.stroke(n),this.status==="edit"&&(this.box.clearCanvas(i),i.stroke(n),i.fillStyle=this.status==="edit"?e.fillColor:"rgba(0,0,0,0)",i.fill(n),this.vertexList.map((o,r)=>{let l=null;l=this.acctivePointIndex===r?new Me({ctx:i,center:o,radius:8/s,fillColor:this.color}):new Me({ctx:i,center:o,radius:4/s,fillColor:this.color}),l.draw(),this.group.push(l)}))}isPointInside(e){if(!this.pointList.length||this.status==="draw")return!1;let i=this.expent/this.box.t.a;return xi(e,this.vertexList)<i}static import(e,i){let s=new this(e);return s.label=i.label,s.color=i.color||s.color,s.pointList=i.pointList,s.status="done",s.render(),s}}class nn extends _e{constructor(e){super(e),this.type=V.LINE,this.completeOffset=2}setMoveEdit(){this.pointList[this.acctivePointIndex]={x:this.lastMousePoint.x,y:this.lastMousePoint.y}}isPointInside(e){let i=this.expent/this.box.t.a;return xi(e,this.pointList)<i}}class Wi extends to{constructor(e){super(),this.isClosed=!1,this.maxPointCount=1/0,this.drag=!1,this.minPointCount=2,this.id=fs(),this.box=e,this.index=e.markObjectList.length+1,this.boxEventIds=[this.box.on_("oncontextmenu",this.boxContextmenu,this)]}boxContextmenu(){this.status==="draw"&&(this.pointList.pop(),this.render())}boxMousedown(e){return ne(this,void 0,void 0,function*(){if(!this.lastPointDown||!Gn(e,this.lastPointDown)){if(this.box.selectObject){if(this.box.selectObject.id!==this.id)return;this.isPointInside(e)&&(this.mouseDown=!0),this.lastMousePoint=this.box.lastPoint}if(this.status=="draw"){if(this.lastPointDown=e,this.pointList.length>=this.minPointCount&&this.isClosed){let i=2,s={x:e.x-this.pointList[0].x,y:e.y-this.pointList[0].y};if(Math.abs(s.x)<4*i&&Math.abs(s.y)<4*i)return void(yield this.complete())}this.pointList.push(e)}}})}boxMousemove(){if(!this.box.selectObject||this.box.selectObject.id==this.id){if(this.mouseDown&&this.status=="edit"){this.drag=!0;let e={x:this.box.lastPoint.x-this.lastMousePoint.x,y:this.box.lastPoint.y-this.lastMousePoint.y};this.acctivePointIndex==-1?this.pointList=this.pointList.map(i=>({x:i.x+e.x,y:i.y+e.y})):this.pointList[this.acctivePointIndex]={x:this.lastMousePoint.x,y:this.lastMousePoint.y},this.lastMousePoint=this.box.lastPoint}else this.status=="edit"&&(this.acctivePointIndex=he(this.box.lastPoint,this.pointList,this.expent,this.box.t.a));this.status!=="done"&&this.render()}}boxMouseup(){if(this.box.selectObject){if(this.box.selectObject.id===this.id?(this.status="edit",this.lastMousePoint=this.box.lastPoint,this.acctivePointIndex=he(this.lastMousePoint,this.pointList,this.expent,this.box.t.a)):this.status!="draw"&&(this.status="done"),this.status==="draw"&&this.box.selectObject.id!==this.id)return this.pointList=[],void(this.mouseDown=!1);this.render()}else if(this.status==="edit")this.status="done",this.box.render();else if(this.status==="draw"){if(this.pointList.length===this.maxPointCount)return void this.complete();this.render()}this.drag&&this.status=="edit"&&this.box.render(),this.drag=!1,this.mouseDown=!1}destory(){this.box.off_(this.boxEventIds),this.pointList=[],this.removeAll()}removeAll(){for(var e=0;e<this.group.length;e++)this.group[e]=null;this.group=[]}complete(){return ne(this,void 0,void 0,function*(){if(this.pointList.length<this.minPointCount)return;this.completeing=!0;let e=yield new Promise((i,s)=>{this.box.emit("oncomplete",{ok:i,err:s})}).catch(()=>{this.completeing=!1,this.pointList=[],this.render()});e&&(this.completeing=!1,this.label=e==null?void 0:e.label,this.color=e==null?void 0:e.color,this.status="done",this.render(),this.box.render(),this.box.addObjectData())})}get pathData(){let e="";return this.pointList.length&&(this.pointList.forEach((i,s)=>{e+=s===0?`M${i.x},${i.y}`:`L${i.x},${i.y}`}),e+="Z "),e}get indexPoint(){return this.pointList[0]}get resultPoints(){return this.pointList}render(){this.removeAll();let{config:e,regionCtx:i,t:{a:s}}=this.box;if(this.box.selectObject||this.box.clearCanvas(i),i.lineWidth=e.lineWidth/s,i.strokeStyle=this.status==="draw"?e.drawColor:this.color,this.status==="draw"){let n=this.pathData;this.pointList.length>=2&&(n+=`
        M${this.pointList[this.pointList.length-1].x},
        ${this.pointList[this.pointList.length-1].y}
        L${this.pointList[this.pointList.length-1].x},
        ${this.pointList[this.pointList.length-1].y} Z`),n+=`L${this.box.lastPoint.x},${this.box.lastPoint.y} Z`;let o=new Path2D(n);this.group.push(o),i.stroke(o),this.pointList.map(r=>{let l=null;l=new Me({ctx:i,center:r,radius:4/s,fillColor:this.color}),this.group.push(l),l.draw()})}if(this.status==="edit"){this.box.clearCanvas(i);let n=new Path2D(this.pathData);this.group.push(n),i.stroke(n),i.fillStyle=this.status==="edit"?e.fillColor:"rgba(0,0,0,0)",i.fill(new Path2D(this.pathData)),this.pointList.map((o,r)=>{let l=null;l=this.acctivePointIndex===r?new Me({ctx:i,center:o,radius:8/s,fillColor:this.color}):new Me({ctx:i,center:o,radius:4/s,fillColor:this.color}),this.group.push(l),l.draw()})}}isPointInside(e){let i=this.expent/this.box.t.a;return xi(e,this.pointList)<i}static import(e,i){let s=new this(e);return s.label=i.label,s.color=i.color||s.color,s.pointList=i.pointList,s.status="done",s.render(),s}}var V;(function(t){t.NONE="",t.RECT="rect",t.POLYGON="polygon",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.POINT="point",t.LINE="line",t.POLYLINE="polyline",t.LINE_ARROW="line_arrow"})(V||(V={}));const Al={[V.NONE]:"",[V.RECT]:class extends _e{constructor(t){super(t),this.type=V.RECT,this.minPointCount=2}setCursor(){this.acctivePointIndex!==-1&&(this.box.view.style.cursor=["nwse-resize","nesw-resize","nwse-resize","nesw-resize"][this.acctivePointIndex])}setMoveEdit(){let t,e=Object.assign({},this.vertexList[this.acctivePointIndex]);this.acctivePointIndex==0?t=Object.assign({},this.vertexList[2]):this.acctivePointIndex==1?t=Object.assign({},this.vertexList[3]):this.acctivePointIndex==2?t=Object.assign({},this.vertexList[0]):this.acctivePointIndex==3&&(t=Object.assign({},this.vertexList[1])),e=Object.assign({},this.box.lastPoint);let i=Math.min(e.x,t.x),s=Math.min(e.y,t.y),n=Math.max(e.x,t.x),o=Math.max(e.y,t.y);this.pointList=[{x:i,y:s},{x:n,y:o}],this.acctivePointIndex=this.vertexList.findIndex(r=>r.x==e.x&&r.y==e.y)}get pathData(){let t="";return this.vertexList.length&&(this.vertexList.forEach((e,i)=>{t+=i===0?`M${e.x},${e.y}`:`L${e.x},${e.y}`}),t+="Z "),t}get vertexList(){return this.pointList.length===2?[this.pointList[0],{x:this.pointList[0].x,y:this.pointList[1].y},this.pointList[1],{x:this.pointList[1].x,y:this.pointList[0].y}]:[]}},[V.POLYGON]:class extends Wi{constructor(t){super(t),this.type=V.POLYGON,this.minPointCount=3,this.isClosed=!0}},[V.CIRCLE]:class extends _e{constructor(t){super(t),this.type=V.CIRCLE}setCursor(){this.acctivePointIndex===1&&(this.box.view.style.cursor="col-resize")}setMoveEdit(t){this.pointList[1]={x:this.pointList[1].x+t.x,y:this.pointList[1].y+t.y}}get vertexList(){return this.pointList.length===2?[this.pointList[1]]:[]}get indexPoint(){var t;return(t=this.pointList)===null||t===void 0?void 0:t[1]}get pathData(){let t="";if(this.pointList.length){let e={x:2*this.pointList[0].x-this.pointList[1].x,y:2*this.pointList[0].y-this.pointList[1].y},i=Ui(this.pointList[0],this.pointList[1]);t+=`
          M ${e.x} ${e.y} 
          A ${i} ${i} 0 0 1 ${this.pointList[1].x} ${this.pointList[1].y}
          A ${i} ${i} 0 0 1 ${e.x} ${e.y}
        `,t+="Z "}return t}isPointInside(t){let e=this.expent/this.box.initLayout.zoom;if(!this.pointList.length||this.status==="draw")return!1;let i=Math.sqrt(Math.pow(this.pointList[0].x-t.x,2)+Math.pow(this.pointList[0].y-t.y,2)),s=Ui(this.pointList[0],this.pointList[1]);return i<=s+e&&s!==0}},[V.ELLIPSE]:class extends _e{constructor(t){super(t),this.type=V.ELLIPSE}setCursor(){[0,2].includes(this.acctivePointIndex)?this.box.view.style.cursor="col-resize":[1,3].includes(this.acctivePointIndex)&&(this.box.view.style.cursor="row-resize")}setMoveEdit(t){this.acctivePointIndex===0?this.pointList[1]={x:this.pointList[1].x-t.x,y:this.pointList[1].y}:this.acctivePointIndex===1?this.pointList[1]={x:this.pointList[1].x,y:this.pointList[1].y+t.y}:this.acctivePointIndex===2?this.pointList[1]={x:this.pointList[1].x+t.x,y:this.pointList[1].y}:this.acctivePointIndex===3&&(this.pointList[1]={x:this.pointList[1].x,y:this.pointList[1].y-t.y})}get vertexList(){if(this.pointList.length===2){let t=this.pointList[1].x-this.pointList[0].x,e=this.pointList[1].y-this.pointList[0].y;return[{x:this.pointList[0].x-t,y:this.pointList[0].y},{x:this.pointList[0].x,y:this.pointList[0].y+e},{x:this.pointList[1].x,y:this.pointList[1].y-e},{x:this.pointList[0].x,y:this.pointList[0].y-e}]}return[]}get ellipseData(){if(this.pointList.length===2){let t=Math.abs(this.pointList[1].x-this.pointList[0].x),e=Math.abs(this.pointList[1].y-this.pointList[0].y);return{pointList:this.pointList[0],xr:t,yr:e}}return null}get indexPoint(){return this.vertexList[1]}get pathData(){let t="";if(this.pointList.length){let e=Math.abs(this.pointList[1].x-this.pointList[0].x),i=Math.abs(this.pointList[1].y-this.pointList[0].y);t+=`
        M ${this.vertexList[0].x} ${this.vertexList[0].y} 
        A ${e} ${i} 0 0 1 ${this.vertexList[2].x} ${this.vertexList[2].y}
        A ${e} ${i} 0 0 1 ${this.vertexList[0].x} ${this.vertexList[0].y}
      `,t+="Z "}return t}isPointInside(t){if(!this.pointList.length||this.status==="draw")return!1;const{xr:e,yr:i,pointList:s}=this.ellipseData;return Math.pow(t.x-s.x,2)/Math.pow(e,2)+Math.pow(t.y-s.y,2)/Math.pow(i,2)<=1||he(t,this.vertexList,this.expent,this.box.t.a)>-1}},[V.POLYLINE]:class extends Wi{constructor(t){super(t),this.type=V.POLYLINE,this.minPointCount=3}get pathData(){let t="";return this.pointList.length&&this.pointList.forEach((e,i)=>{t+=i===0?`M${e.x},${e.y}`:`L${e.x},${e.y}`}),t}},[V.LINE]:nn,[V.LINE_ARROW]:class extends nn{constructor(t){super(t),this.type=V.LINE_ARROW}get pathData(){let t="";if(this.pointList.length){if(this.pointList.length===2&&this.pointList[0].x!=this.pointList[1].x&&this.pointList[0].y!=this.pointList[1].y){t+=`M${this.pointList[0].x},${this.pointList[1].y}`,t+=`L${this.pointList[0].x},${this.pointList[1].y}`;const[e,i]=this.pointList,[s,n]=Qn(e,i,20/this.box.t.a);t+="Z",t+=`M${e.x},${e.y}`,t+=`L${i.x},${i.y}`,t+="Z",t+=`M${s.x},${s.y}`,t+=`L${i.x},${i.y}`,t+=`M${i.x},${i.y}`,t+=`L${n.x},${n.y}`,t+="Z"}t+="Z "}return t}}},{scaleOfOuter:Rl}=us;let Gt=class{constructor(t){this.config={drawColor:"yellow",lineWidth:2,fillColor:"rgba(255, 255, 255, 0.3)",showIndex:!0},this.t={a:1,b:0,c:0,d:1,e:0,f:0},this.initLayout={zoom:1,offsetx:0,offsety:0,width:0,height:0},this.lastMovePoint={x:0,y:0},this.moveStatus=!1,this.mouseDown=!1,this.drag=!1,this.currentDrawingType=V.NONE,this.markObjectList=[],this.renderGroup=[],this.markMap=Al,this._events=Object.create(null),this.init(t)}init(t){Object.assign(this.config,t||{}),this.view=document.querySelector(t.view),this.view.style.overflow="hidden",this.view.style.position="relative",this.view.style.cursor="default",this.canvas=this.createCanvas(),this.regionCanvas=this.createCanvas(),this.ctx=this.canvas.getContext("2d"),this.regionCtx=this.regionCanvas.getContext("2d"),this.view.addEventListener("mousemove",this.appMousemove.bind(this)),this.view.addEventListener("mousedown",this.appMousedown.bind(this)),this.view.addEventListener("mouseup",this.appMouseup.bind(this)),this.view.addEventListener("wheel",this.appWheel.bind(this)),this.view.addEventListener("dblclick",this.appDblclick.bind(this)),this.view.addEventListener("contextmenu",e=>{e.preventDefault(),this.emit("oncontextmenu",this.lastMovePoint)}),this.windowKeydown=this.windowKeydown.bind(this),this.windowKeyup=this.windowKeyup.bind(this),window.addEventListener("keydown",this.windowKeydown),window.addEventListener("keyup",this.windowKeyup)}register(t,e){if(!t||!e)throw new Error("need type or markObject");this.markMap[t]=e}get viewDomInfo(){return this.view.getBoundingClientRect()}get lastPoint(){return this.lastMovePoint?this.lastMovePoint:null}createCanvas(){let t=document.createElement("canvas");return t.setAttribute("style",` width: ${this.viewDomInfo.width}px;
        height: ${this.viewDomInfo.height}px;
        position: absolute;
        `),t.width=this.viewDomInfo.width,t.height=this.viewDomInfo.height,this.view.appendChild(t),t}clearCanvas(t){t.save(),t.globalCompositeOperation="copy",t.beginPath(),t.lineTo(0,0),t.stroke(),t.restore()}clearMarkShapes(){this.markObjectList.forEach(t=>{t.destory(),t.render()}),this.markObjectList=[],this.render(),this.emit("onchange"),this.addObjectData()}setBackground(t){return ne(this,void 0,void 0,function*(){return new Promise(e=>{var i;!((i=this.img)===null||i===void 0)&&i.src?this.img.src=t:(this.img=new Image,this.img.src=t,this.img.style.position="absolute",this.img.style.userSelect="none",this.img.style.pointerEvents="none"),this.img.onload=()=>{this.view.insertBefore(this.img,this.canvas),this.setLayout(this.img),e(null)}})})}transfrom(){var t;this.ctx.setTransform(this.t),this.regionCtx.setTransform(this.t),this.img&&this.imgTrans(),(t=this.selectObject)===null||t===void 0||t.render(),this.render(),this.emit("ontransform",{t:this.t})}setLayout({width:t,height:e}){let i=this.viewDomInfo.width/t,s=this.viewDomInfo.height/e,n=Math.min(i,s),o=(this.viewDomInfo.width-t*n)/2,r=(this.viewDomInfo.height-e*n)/2;this.t={a:n,b:0,c:0,d:n,e:o,f:r},this.initLayout={zoom:n,offsetx:o,offsety:r,width:t,height:e},this.transfrom()}imgTrans(){this.img.style.transformOrigin=`${this.t.e}px ${this.t.f}px`,this.img.style.transform=`scale(${this.t.a}) translate(${this.t.e}px,${this.t.f}px)`}render(){for(var t=0;t<this.renderGroup.length;t++)this.renderGroup[t]=null;this.renderGroup=[],this.clearCanvas(this.ctx),this.ctx.font=`bold ${~~(16/this.t.a)}px serif`,this.ctx.lineWidth=this.config.lineWidth/this.t.a,this.markObjectList.map((e,i)=>{e.status!=="draw"&&this.config.showIndex&&this.ctx.fillText(i+"",e.indexPoint.x,e.indexPoint.y-3/this.t.a),this.ctx.strokeStyle=e.color;let s=new Path2D(e.pathData);this.renderGroup.push(s),this.ctx.stroke(s)})}appWheel(t){if(!this.config.disableZoom&&(t.metaKey||t.ctrlKey||t.altKey)){t.preventDefault();const e={x:t.offsetX,y:t.offsetY};let i=t.deltaY>0?.9:1.1;Rl(this.t,e,i,i),this.transfrom()}}appDblclick(){this.t={a:this.initLayout.zoom,b:0,c:0,d:this.initLayout.zoom,e:this.initLayout.offsetx,f:this.initLayout.offsety},this.transfrom()}appMoving(t){if(this.config.disableMove)return;this.view.style.cursor="grab";let e=(t.x-this.lastMovePoint.x)*this.t.a,i=(t.y-this.lastMovePoint.y)*this.t.a;this.t.e+=e,this.t.f+=i,this.transfrom(),this.emit("onmove",{status:this.moveStatus})}appMousemove(t){let e=this.pointMapping(t);if(this.mouseDown&&this.moveStatus)return this.appMoving(e),void(this.lastMovePoint=this.pointMapping(t));this.view.style.cursor="default",this.markObjectList.find(i=>i.status==="draw")&&(this.view.style.cursor="crosshair"),this.mouseDown&&this.selectObject&&(this.drag=!0,this.view.style.cursor="move"),t.buttons!==void 0&&(this.lastMovePoint={x:e.x,y:e.y}),this.getDrawMark("boxMousemove",e)}appMousedown(t){let e=this.pointMapping(t);this.mouseDown=!0,this.moveStatus||t.buttons===1&&this.getDrawMark("boxMousedown",e)}getDrawMark(t,e){var i,s;this.selectObject&&this.selectObject[t](e);const n=this.markObjectList[this.markObjectList.length-1];n&&n.status=="draw"&&((s=(i=this.markObjectList)===null||i===void 0?void 0:i[this.markObjectList.length-1])===null||s===void 0||s[t](e))}appMouseup(t){var e,i,s,n,o,r,l;if(this.mouseDown=!1,this.moveStatus)return;let h=this.pointMapping(t);if(this.selectObject&&this.drag)return this.selectObject.isPointInside(h)||this.selectObject.acctivePointIndex!==-1||(this.selectObject=void 0),this.drag=!1,this.getDrawMark("boxMouseup",h),void this.emit("onchange");let u=this.markObjectList[this.markObjectList.length-1];if(u.status==="draw"&&u.pointList&&((e=this.lastMovePoint)===null||e===void 0?void 0:e.x)!==((s=(i=u==null?void 0:u.pointList)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.x)&&u.pointList.length>0&&((o=(n=u==null?void 0:u.pointList)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.x)!==((l=(r=u==null?void 0:u.pointList)===null||r===void 0?void 0:r[1])===null||l===void 0?void 0:l.x))this.selectObject=void 0;else{let f=this.getSelectedIndex(h);f!==void 0&&this.markObjectList[f]?(this.drag&&this.selectObject&&this.selectObject.id!==this.markObjectList[f].id||(this.selectObject=this.markObjectList[f]),this.markObjectList[f].status==="draw"&&(this.selectObject=void 0)):this.selectObject=void 0}this.moveStatus=!1,this.mouseDown=!1,this.drag=!1,this.getDrawMark("boxMouseup",h),this.emit("onchange")}pointMapping(t){let e={x:0,y:0},i=t.offsetX||t.x,s=t.offsetY||t.y;return e.x=(i-this.t.e)/this.t.a,e.y=(s-this.t.f)/this.t.a,e}getSelectedIndex(t){let e=this.markObjectList.map((i,s)=>s).reverse().filter(i=>this.markObjectList[i].isPointInside(t));if(e.length){if(e.length===1)return e[0];if(e.length>1){if(this.drag&&this.selectObject)return this.selectObject.index-1;if(this.selectObject){const i=this.selectObject.index-1;if(e.indexOf(i)>-1)return e[e.indexOf(i)+1]}if(!this.selectObject)return e[0]}}}setDrawType(t){return ne(this,void 0,void 0,function*(){if(this.currentDrawingType){let e=this.markObjectList[this.markObjectList.length-1];e&&e.status==="draw"&&(e==null||e.destory(),this.markObjectList.pop())}this.currentDrawingType=t,this.addObjectData(),this.emit("ondraw",{type:t})})}get objects(){return this.markObjectList.filter(t=>t.status!=="draw").map(t=>{var e;return{id:t.id,label:t.label,type:t.type,color:t.color,select:t.id===((e=this.selectObject)===null||e===void 0?void 0:e.id),pointList:t.resultPoints||t.pointList}})}addObjectData(){let t=null;if(this.currentDrawingType)try{t=new this.markMap[this.currentDrawingType](this)}catch{throw new Error(`${this.currentDrawingType} mark type is not supported`)}t&&this.markObjectList.push(t),this.emit("onchange")}setObjectData(t){t.forEach(e=>{let i;if(e.type)try{i=this.markMap[e.type].import(this,e)}catch{throw new Error(`${e.type} mark type is not supported`)}i&&this.markObjectList.push(i)}),this.render(),this.emit("onchange")}selectObjectById(t){let e=this.markObjectList.find(i=>i.id===t);e&&e.setSelect(!0)}deleteObject(t){var e;let i=this.markObjectList.find(s=>s.id===t);i&&(i.destory(),(e=this.selectObject)===null||e===void 0||e.render(),this.markObjectList.splice(this.markObjectList.indexOf(i),1),this.render(),this.emit("onchange"))}setMoveEditStatus(t){this.moveStatus!=t&&(this.moveStatus=t)}windowKeydown(t){return ne(this,void 0,void 0,function*(){if(t.code=="Space"&&(this.setMoveEditStatus(!0),t.preventDefault()),t.code=="NumpadEnter"||t.code=="Enter"){let e=this.markObjectList[this.markObjectList.length-1];(e==null?void 0:e.status)=="draw"&&(yield e.complete())}t.code=="Delete"&&this.selectObject&&this.deleteObject(this.selectObject.id)})}windowKeyup(t){t.code=="Space"&&this.setMoveEditStatus(!1)}destroy(){window.removeEventListener("keydown",this.windowKeydown),window.removeEventListener("keyup",this.windowKeyup),this.view.innerHTML="",this.view.replaceWith(this.view.cloneNode(!0))}on(t,e){}on_(t,e,i){return{}}off(t,e){}off_(t){}emit(t,...e){}};var It,Nl;Gt.MoveMarkObject=_e,Gt.ClickMarkObject=Wi,Gt.MarkBoardUtils=Tl,Gt=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,i):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r}([(It=Dl,t=>{var e;(It.prototype?(e=It.prototype,Object.getOwnPropertyNames(e)):Object.keys(It)).forEach(i=>{kl.includes(i)||Nl||(It.prototype?function(n,o){return Object.getOwnPropertyDescriptor(n,o)}(It.prototype,i).writable&&(t.prototype[i]=It.prototype[i]):t.prototype[i]=It[i])})})],Gt);var Fl=Gt;const Bl=[{id:"f9e1cf23-8903-4f40-8ff9-724363190272",label:"person",type:"polygon",color:"gray",pointList:[{x:257.7016248153619,y:189.06942392909895},{x:380.5967503692762,y:191.90546528803543},{x:520.5081240768095,y:191.90546528803543},{x:768.1890694239291,y:192.85081240768093},{x:760.6262924667651,y:222.15657311669128},{x:633.0044313146234,y:225.93796159527326},{x:632.0590841949778,y:257.13441654357456},{x:257.7016248153619,y:260.9158050221566}]},{id:"f414b029-1311-43f8-b2e5-fa0508ce5740",label:"women",type:"rect",color:"blue",pointList:[{x:653.8020679468241,y:251.4623338257016},{x:770.07976366322,y:287.3855243722304}]},{id:"b420899a-1488-4885-97a2-c9c4131a08e2",label:"home",type:"circle",color:"pink",pointList:[{x:80.92171344165445,y:460.384047267356},{x:40.27178729689808,y:424.4608567208272}]},{id:"f0b68f67-7af1-4a69-8502-774ab07676cf",label:"cloud",type:"ellipse",color:"#20B4D9",pointList:[{x:144.25997045790254,y:302.51107828655836},{x:232.1772525849335,y:326.1447562776957}]},{id:"b2e9e160-ae8b-4992-a832-6423af623764",label:"person",type:"line",color:"#063D4E",pointList:[{x:126.29837518463813,y:349.77843426883305},{x:576.2836041358936,y:345.0516986706056}]},{id:"9aff9994-991e-44fe-b67e-7b57f31f751f",label:"arrow",type:"line_arrow",color:"#F924d2",pointList:[{x:129.13441654357462,y:66.17429837518463},{x:254.8655834564254,y:162.59970457902511}]},{id:"bb3f20df-1594-4dc8-b3e5-1262a4ae8ea6",label:"person",type:"polyline",color:"#E27A18",pointList:[{x:849.4889217134416,y:42.540620384047266},{x:944.9689807976366,y:127.62186115214179},{x:814.5110782865584,y:160.7090103397341}]}],Kl=""+new URL("image-etDKo1Lq.jpg",import.meta.url).href,Hl=[{viewBox:"0 0 1024 1024",type:"rect",icon:"M904.50393 795.651268V225.084385c32.463366-10.869558 55.862285-41.503253 55.862286-77.623915 0-45.212738-36.647665-81.863473-81.864496-81.863473-35.721573 0-66.084091 22.890336-77.262688 54.798047H226.150158c-11.177574-31.907711-41.538045-54.79907-77.262688-54.79907-45.213761 0-81.864496 36.651758-81.864496 81.864496 0 35.530215 22.63758 65.76175 54.271045 77.086679v571.642379c-31.633465 11.32493-54.271044 41.555441-54.271045 77.084632 0 45.212738 36.652781 81.864496 81.864496 81.864496 34.495652 0 63.98222-21.342074 76.036767-51.532677h577.543786c12.05557 30.190603 41.546232 51.532677 76.035743 51.532677 45.217854 0 81.864496-36.651758 81.864496-81.864496-0.002047-36.120662-23.400966-66.753333-55.864332-77.622892z m-105.182574 56.789401H228.067834c-7.227612-27.548426-28.447912-49.415456-55.609529-57.570183V225.865167c26.077935-7.829316 46.683229-28.300556 54.682414-54.305836H800.249495c7.835456 25.473161 27.768437 45.63434 53.090149 53.80851V795.367813c-26.39516 8.519024-46.930869 30.065759-54.018288 57.072856z"},{viewBox:"0 0 1024 1024",type:"polygon",icon:"M680.71 915.22H343.29c-39.53 0-76.37-21.27-96.12-55.52L78.46 567.49c-19.75-34.22-19.75-76.77 0-110.99l168.71-292.2c19.75-34.24 56.6-55.52 96.12-55.52h337.42c39.53 0 76.37 21.27 96.12 55.52l168.71 292.2c19.75 34.22 19.75 76.77 0 110.99L776.83 859.7c-19.75 34.24-56.59 55.52-96.12 55.52zM343.29 175.69c-15.7 0-30.35 8.43-38.21 22.04l-168.71 292.2c-7.84 13.61-7.84 30.52 0 44.13l168.71 292.2c7.86 13.61 22.51 22.04 38.21 22.04h337.42c15.7 0 30.35-8.43 38.21-22.04l168.71-292.2c7.84-13.61 7.84-30.52 0-44.13l-168.71-292.2c-7.86-13.61-22.51-22.04-38.21-22.04H343.29z"},{viewBox:"0 0 1024 1024",type:"circle",icon:"M512 928C282.624 928 96 741.376 96 512S282.624 96 512 96s416 186.624 416 416-186.624 416-416 416z m0-768C317.92 160 160 317.92 160 512s157.92 352 352 352 352-157.92 352-352S706.08 160 512 160z"},{viewBox:"0 0 1024 1024",type:"ellipse",icon:"M512 838.656c-228.864 0-415.232-146.432-415.232-326.656 0-180.224 186.368-326.656 415.232-326.656 228.864 0 415.232 146.432 415.232 326.656 0 180.224-186.368 326.656-415.232 326.656z m0-589.312c-194.048 0-351.232 117.76-351.232 262.656 0 144.896 157.696 262.656 351.232 262.656s351.232-117.76 351.232-262.656c0-144.896-157.184-262.656-351.232-262.656z"},{viewBox:"0 0 1024 1024",type:"line",icon:"M960 470.857143H64c-5.028571 0-9.142857 4.114286-9.142857 9.142857v64c0 5.028571 4.114286 9.142857 9.142857 9.142857h896c5.028571 0 9.142857-4.114286 9.142857-9.142857v-64c0-5.028571-4.114286-9.142857-9.142857-9.142857z"},{viewBox:"0 0 1024 1024",type:"polyline",icon:"M221.342 686.08l-48.837-33.083 215.04-317.44 184.32 239.065L764.849 335.95l45.686 37.021-239.458 296.96-180.382-233.55L221.342 686.08z"},{viewBox:"0 0 1024 1024",type:"line_arrow",icon:"M593.066667 793.642667a32.170667 32.170667 0 0 1 0-45.226667l236.373333-236.373333L593.066667 275.626667a32 32 0 0 1 45.226666-45.184l258.986667 258.986666a32.170667 32.170667 0 0 1 0 45.226667l-258.986667 258.986667a31.914667 31.914667 0 0 1-45.226666 0z M149.333333 544a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h718.08a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32z"},{viewBox:"0 0 480 480",type:"sides_arrow",icon:" M20 260 H460 V230 H20Z M225 85 V400 H255 V115Z M170 170 L240 100 L220 80 L150 150Z M310 170 L220 80 L240 60 L330 150Z"},{viewBox:"0 0 1024 1024",type:"polyline_arrow",icon:"M593.066667 793.642667a32.170667 32.170667 0 0 1 0-45.226667l236.373333-236.373333L593.066667 275.626667a32 32 0 0 1 45.226666-45.184l258.986667 258.986666a32.170667 32.170667 0 0 1 0 45.226667l-258.986667 258.986667a31.914667 31.914667 0 0 1-45.226666 0z M149.333333 544a32.213333 32.213333 0 0 1-32-32 32.213333 32.213333 0 0 1 32-32h718.08a32.213333 32.213333 0 0 1 32 32 32.213333 32.213333 0 0 1-32 32z"},{viewBox:"0 0 24 24",type:"triangle",icon:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}],zl={_events:Object.create(null),on(t,e){if(!this._events[t]){this._events[t]=[e];return}this._events[t].push(e)},on_(t,e,i){return i&&(e=e.bind(i)),this.on(t,e),{type:t,listener:e}},off(t,e){this._events[t]&&(this._events[t]=this._events[t].filter(i=>i!==e))},off_(t){if(!t)return;const e=t instanceof Array?t:[t];e.forEach(i=>this.off(i.type,i.listener)),e.length=0},emit(t,...e){this._events[t]&&this._events[t].forEach(i=>i.call(this,...e))}};function Ul(t,e){return Object.getOwnPropertyDescriptor(t,e)}function Wl(t){return Object.getOwnPropertyNames(t)}const Zl=["destroy","constructor"];function ql(t,e){return i=>{(t.prototype?Wl(t.prototype):Object.keys(t)).forEach(n=>{!Zl.includes(n)&&(!e||!e.includes(n))&&(t.prototype?Ul(t.prototype,n).writable&&(i.prototype[n]=t.prototype[n]):i.prototype[n]=t[n])})}}const on={};function Yl(){return{a:1,b:0,c:0,d:1,e:0,f:0}}const ds={set(t,e=1,i=0,s=0,n=1,o=0,r=0){t.a=e,t.b=i,t.c=s,t.d=n,t.e=o,t.f=r},get:Yl,translateInner(t,e,i){t.e+=t.a*e+t.c*i,t.f+=t.b*e+t.d*i},scale(t,e,i=e){t.a*=e,t.b*=e,t.c*=i,t.d*=i},scaleOfInner(t,e,i,s=i){ve.translateInner(t,e.x,e.y),ve.scale(t,i,s),ve.translateInner(t,-e.x,-e.y)},scaleOfOuter(t,e,i,s=i){ve.toInnerPoint(t,e,on),ve.scaleOfInner(t,on,i,s)},toInnerPoint(t,e,i,s){const{x:n,y:o}=e,{a:r,b:l,c:h,d:u}=t,f=1/(r*u-l*h);if(i||(i=e),i.x=(n*u-o*h)*f,i.y=(o*r-n*l)*f,!s){const{e:g,f:L}=t;i.x-=(g*u-L*h)*f,i.y-=(L*r-g*l)*f}}},ve=ds;function ae(t,e,i,s){let n=1/0,o=-1;return e.forEach((r,l)=>{let h=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));h<n&&(n=h,o=l)}),n<i/s?o:-1}const eo=(t,e,i=50,s=40)=>{const{x:n,y:o}=t,{x:r,y:l}=e;let h=Math.atan2(l-o,r-n);return[{x:r-i*Math.cos(h+s*Math.PI/180),y:l-i*Math.sin(h+s*Math.PI/180)},{x:r-i*Math.cos(h-s*Math.PI/180),y:l-i*Math.sin(h-s*Math.PI/180)}]},Jl=(t,e)=>{const{x:i,y:s}=t,{x:n,y:o}=e;return[{x:(i+n)/2-(s-o)/6,y:(s+o)/2+(i-n)/6},{x:(i+n)/2+(s-o)/6,y:(s+o)/2-(i-n)/6}]},Zi=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function io(t,e){return t.x===e.x&&t.y===e.y}function gi(t,e){let i=!1,s=1/0;for(let n=0,o=e.length-1;n<e.length;o=n++){const r=e[n].x,l=e[n].y,h=e[o].x,u=e[o].y;l>t.y!=u>t.y&&t.x<(h-r)*(t.y-l)/(u-l)+r&&(i=!i);const g=h-r,L=u-l,w=((t.x-r)*g+(t.y-l)*L)/(g*g+L*L),$=Math.max(0,Math.min(1,w)),P=r+$*g,A=l+$*L,N=Math.sqrt((t.x-P)**2+(t.y-A)**2);N<s&&(s=N)}return i?-s:s}function ps(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,i=t==="x"?e:e&3|8;return i.toString(16)})}const Vl=Object.freeze(Object.defineProperty({__proto__:null,MatrixHelper:ds,getArrow:eo,getDistance:Zi,getMinDistance:ae,getSides:Jl,getUUID:ps,isPointInPolygon:gi,isSamePoint:io},Symbol.toStringTag,{value:"Module"}));class Xl{}class je extends Xl{constructor(e){super(),this.config=e}get __tag(){return"Circle"}draw(){const{center:e,radius:i,fillColor:s="black",ctx:n}=this.config,{x:o,y:r}=e;n.save(),n.beginPath(),n.fillStyle=s,n.arc(o,r,i,0,Math.PI*2),n.fill(),n.closePath(),n.restore()}}class so{constructor(){this.id="",this.group=[],this.pointList=[],this.oldPointList=[],this.label="",this.color="#ff0000",this.index=1,this.boxEventIds=[],this.status="draw",this.completeing=!1,this.expent=5,this.mouseDown=!1,this.lastMousePoint={x:0,y:0},this.acctivePointIndex=-1}setSelect(e){this.box.selectObject&&(this.box.selectObject.status="done",this.box.selectObject.render(),this.box.selectObject=void 0),this.status=e?"edit":"done",this.box.selectObject=this,this.render(),this.box.emit("onchange")}}let Se=class extends so{constructor(e){super(),this.completeOffset=30,this.id=ps(),this.minPointCount=2,this.box=e,this.index=e.markObjectList.length+1}boxMousedown(e){let i=e;this.status=="draw"&&(this.pointList=[i,i],this.mouseDown=!0),this.box.selectObject&&this.box.selectObject.id===this.id&&this.isPointInside(i)&&(this.mouseDown=!0,this.lastMousePoint=this.box.lastPoint)}setCursor(){}setMoveEdit(e){}boxMousemove(){var e;if(!(this.box.selectObject&&this.box.selectObject.id!=this.id)&&this.completeing!=!0)if(this.status=="draw"&&this.pointList[0]&&(this.pointList[1]=this.box.lastPoint,this.render()),this.setCursor(),((e=this.box.selectObject)==null?void 0:e.id)===this.id&&this.mouseDown&&this.status=="edit"){let i={x:this.box.lastPoint.x-this.lastMousePoint.x,y:this.box.lastPoint.y-this.lastMousePoint.y};this.acctivePointIndex==-1?this.pointList=this.pointList.map(s=>({x:s.x+i.x,y:s.y+i.y})):this.setMoveEdit(i),this.lastMousePoint=this.box.lastPoint,this.render()}else this.status=="edit"&&(this.acctivePointIndex=ae(this.box.lastPoint,this.vertexList,this.expent,this.box.t.a),this.render())}boxMouseup(){if(this.mouseDown&&this.status=="edit"&&this.acctivePointIndex>-1&&(this.box.selectObject=this),this.box.selectObject){if(this.box.selectObject.id!=this.id)return;this.box.selectObject.id===this.id&&(this.status="edit",this.lastMousePoint=this.box.lastPoint,this.acctivePointIndex=ae(this.lastMousePoint,this.vertexList,this.expent,this.box.t.a),this.render(),this.box.render())}else this.status!=="draw"&&(this.status="done");this.mouseDown=!1,this.status=="draw"&&this.pointList.length===2&&this.complete()}destory(){this.pointList=[],this.removeAll()}removeAll(){for(var e=0;e<this.group.length;e++)this.group[e]=null;this.group=[]}async complete(){if(this.pointList.length<this.minPointCount)return;if(Math.max(Math.abs(this.pointList[0].x-this.pointList[1].x),Math.abs(this.pointList[0].y-this.pointList[1].y))<this.completeOffset){this.status="draw",this.pointList=[],this.render();return}this.completeing=!0;let i=await new Promise((s,n)=>{this.box.emit("oncomplete",{ok:s,err:n})}).catch(()=>{this.completeing=!1,this.pointList=[],this.render()});i&&(this.completeing=!1,this.label=i==null?void 0:i.label,this.color=i==null?void 0:i.color,this.status="done",this.render(),this.box.render(),this.box.addObjectData())}get vertexList(){return this.pointList}get resultPoints(){return this.pointList}get pathData(){let e="";return this.pointList.length&&(this.pointList.forEach((i,s)=>{s===0?e+=`M${i.x},${i.y}`:e+=`L${i.x},${i.y}`}),e+="Z "),e}get indexPoint(){return this.pointList[0]}render(){this.removeAll();let{config:e,regionCtx:i,t:{a:s}}=this.box;this.box.selectObject||this.box.clearCanvas(i),i.lineWidth=e.lineWidth/s,i.strokeStyle=this.status==="draw"?e.drawColor:this.color;let n=new Path2D(this.pathData);this.group.push(n),this.status==="draw"&&i.stroke(n),this.status==="edit"&&(this.box.clearCanvas(i),i.stroke(n),i.fillStyle=this.status==="edit"?e.fillColor:"rgba(0,0,0,0)",i.fill(n),this.vertexList.map((o,r)=>{let l=null;this.acctivePointIndex===r?l=new je({ctx:i,center:o,radius:8/s,fillColor:this.color}):l=new je({ctx:i,center:o,radius:4/s,fillColor:this.color}),l.draw(),this.group.push(l)}))}isPointInside(e){if(!this.pointList.length||this.status==="draw")return!1;let i=this.expent/this.box.t.a;return gi(e,this.vertexList)<i}static import(e,i){let s=new this(e);return s.label=i.label,s.color=i.color||s.color,s.pointList=i.pointList,s.status="done",s.render(),s}};class Ql extends Se{constructor(e){super(e),this.type=Pt.CIRCLE}setCursor(){this.acctivePointIndex===1&&(this.box.view.style.cursor="col-resize")}setMoveEdit(e){this.pointList[1]={x:this.pointList[1].x+e.x,y:this.pointList[1].y+e.y}}get vertexList(){return this.pointList.length===2?[this.pointList[1]]:[]}get indexPoint(){var e;return(e=this.pointList)==null?void 0:e[1]}get pathData(){let e="";if(this.pointList.length){let i={x:2*this.pointList[0].x-this.pointList[1].x,y:2*this.pointList[0].y-this.pointList[1].y},s=Zi(this.pointList[0],this.pointList[1]);e+=`
          M ${i.x} ${i.y} 
          A ${s} ${s} 0 0 1 ${this.pointList[1].x} ${this.pointList[1].y}
          A ${s} ${s} 0 0 1 ${i.x} ${i.y}
        `,e+="Z "}return e}isPointInside(e){let i=this.expent/this.box.initLayout.zoom;if(!this.pointList.length||this.status==="draw")return!1;let s=Math.sqrt(Math.pow(this.pointList[0].x-e.x,2)+Math.pow(this.pointList[0].y-e.y,2)),n=Zi(this.pointList[0],this.pointList[1]);return s<=n+i&&n!==0}}class Gl extends Se{constructor(e){super(e),this.type=Pt.ELLIPSE}setCursor(){[0,2].includes(this.acctivePointIndex)?this.box.view.style.cursor="col-resize":[1,3].includes(this.acctivePointIndex)&&(this.box.view.style.cursor="row-resize")}setMoveEdit(e){this.acctivePointIndex===0?this.pointList[1]={x:this.pointList[1].x-e.x,y:this.pointList[1].y}:this.acctivePointIndex===1?this.pointList[1]={x:this.pointList[1].x,y:this.pointList[1].y+e.y}:this.acctivePointIndex===2?this.pointList[1]={x:this.pointList[1].x+e.x,y:this.pointList[1].y}:this.acctivePointIndex===3&&(this.pointList[1]={x:this.pointList[1].x,y:this.pointList[1].y-e.y})}get vertexList(){if(this.pointList.length===2){let e=this.pointList[1].x-this.pointList[0].x,i=this.pointList[1].y-this.pointList[0].y;return[{x:this.pointList[0].x-e,y:this.pointList[0].y},{x:this.pointList[0].x,y:this.pointList[0].y+i},{x:this.pointList[1].x,y:this.pointList[1].y-i},{x:this.pointList[0].x,y:this.pointList[0].y-i}]}else return[]}get ellipseData(){if(this.pointList.length===2){let e=Math.abs(this.pointList[1].x-this.pointList[0].x),i=Math.abs(this.pointList[1].y-this.pointList[0].y);return{pointList:this.pointList[0],xr:e,yr:i}}else return null}get indexPoint(){return this.vertexList[1]}get pathData(){let e="";if(this.pointList.length){let i=Math.abs(this.pointList[1].x-this.pointList[0].x),s=Math.abs(this.pointList[1].y-this.pointList[0].y);e+=`
        M ${this.vertexList[0].x} ${this.vertexList[0].y} 
        A ${i} ${s} 0 0 1 ${this.vertexList[2].x} ${this.vertexList[2].y}
        A ${i} ${s} 0 0 1 ${this.vertexList[0].x} ${this.vertexList[0].y}
      `,e+="Z "}return e}isPointInside(e){if(!this.pointList.length||this.status==="draw")return!1;const{xr:i,yr:s,pointList:n}=this.ellipseData;return(e.x-n.x)**2/i**2+(e.y-n.y)**2/s**2<=1||ae(e,this.vertexList,this.expent,this.box.t.a)>-1}}class no extends Se{constructor(e){super(e),this.type=Pt.LINE,this.completeOffset=2}setMoveEdit(){this.pointList[this.acctivePointIndex]={x:this.lastMousePoint.x,y:this.lastMousePoint.y}}isPointInside(e){let i=this.expent/this.box.t.a;return gi(e,this.pointList)<i}}class tc extends no{constructor(e){super(e),this.type=Pt.LINE_ARROW}get pathData(){let e="";if(this.pointList.length){if(this.pointList.length===2&&this.pointList[0].x!=this.pointList[1].x&&this.pointList[0].y!=this.pointList[1].y){e+=`M${this.pointList[0].x},${this.pointList[1].y}`,e+=`L${this.pointList[0].x},${this.pointList[1].y}`;const[i,s]=this.pointList,[n,o]=eo(i,s,20/this.box.t.a);e+="Z",e+=`M${i.x},${i.y}`,e+=`L${s.x},${s.y}`,e+="Z",e+=`M${n.x},${n.y}`,e+=`L${s.x},${s.y}`,e+=`M${s.x},${s.y}`,e+=`L${o.x},${o.y}`,e+="Z"}e+="Z "}return e}}let xs=class extends so{constructor(e){super(),this.isClosed=!1,this.maxPointCount=1/0,this.drag=!1,this.minPointCount=2,this.id=ps(),this.box=e,this.index=e.markObjectList.length+1,this.boxEventIds=[this.box.on_("oncontextmenu",this.boxContextmenu,this)]}boxContextmenu(){this.status==="draw"&&(this.pointList.pop(),this.render())}async boxMousedown(e){if(!(this.lastPointDown&&io(e,this.lastPointDown))){if(this.box.selectObject)if(this.box.selectObject.id===this.id)this.isPointInside(e)&&(this.mouseDown=!0),this.lastMousePoint=this.box.lastPoint;else return;if(this.status=="draw"){if(this.lastPointDown=e,this.pointList.length>=this.minPointCount&&this.isClosed){let i=2,s={x:e.x-this.pointList[0].x,y:e.y-this.pointList[0].y};if(Math.abs(s.x)<i*4&&Math.abs(s.y)<i*4){await this.complete();return}}this.pointList.push(e)}}}boxMousemove(){if(!(this.box.selectObject&&this.box.selectObject.id!=this.id)){if(this.mouseDown&&this.status=="edit"){this.drag=!0;let e={x:this.box.lastPoint.x-this.lastMousePoint.x,y:this.box.lastPoint.y-this.lastMousePoint.y};this.acctivePointIndex==-1?this.pointList=this.pointList.map(i=>({x:i.x+e.x,y:i.y+e.y})):this.pointList[this.acctivePointIndex]={x:this.lastMousePoint.x,y:this.lastMousePoint.y},this.lastMousePoint=this.box.lastPoint}else this.status=="edit"&&(this.acctivePointIndex=ae(this.box.lastPoint,this.pointList,this.expent,this.box.t.a));this.status!=="done"&&this.render()}}boxMouseup(){if(this.box.selectObject){if(this.box.selectObject.id===this.id?(this.status="edit",this.lastMousePoint=this.box.lastPoint,this.acctivePointIndex=ae(this.lastMousePoint,this.pointList,this.expent,this.box.t.a)):this.status!="draw"&&(this.status="done"),this.status==="draw"&&this.box.selectObject.id!==this.id){this.pointList=[],this.mouseDown=!1;return}this.render()}else if(this.status==="edit")this.status="done",this.box.render();else if(this.status==="draw"){if(this.pointList.length===this.maxPointCount){this.complete();return}this.render()}this.drag&&this.status=="edit"&&this.box.render(),this.drag=!1,this.mouseDown=!1}destory(){this.box.off_(this.boxEventIds),this.pointList=[],this.removeAll()}removeAll(){for(var e=0;e<this.group.length;e++)this.group[e]=null;this.group=[]}async complete(){if(this.pointList.length<this.minPointCount)return;this.completeing=!0;let e=await new Promise((i,s)=>{this.box.emit("oncomplete",{ok:i,err:s})}).catch(()=>{this.completeing=!1,this.pointList=[],this.render()});e&&(this.completeing=!1,this.label=e==null?void 0:e.label,this.color=e==null?void 0:e.color,this.status="done",this.render(),this.box.render(),this.box.addObjectData())}get pathData(){let e="";return this.pointList.length&&(this.pointList.forEach((i,s)=>{s===0?e+=`M${i.x},${i.y}`:e+=`L${i.x},${i.y}`}),e+="Z "),e}get indexPoint(){return this.pointList[0]}get resultPoints(){return this.pointList}render(){this.removeAll();let{config:e,regionCtx:i,t:{a:s}}=this.box;if(this.box.selectObject||this.box.clearCanvas(i),i.lineWidth=e.lineWidth/s,i.strokeStyle=this.status==="draw"?e.drawColor:this.color,this.status==="draw"){let n=this.pathData;this.pointList.length>=2&&(n+=`
        M${this.pointList[this.pointList.length-1].x},
        ${this.pointList[this.pointList.length-1].y}
        L${this.pointList[this.pointList.length-1].x},
        ${this.pointList[this.pointList.length-1].y} Z`),n+=`L${this.box.lastPoint.x},${this.box.lastPoint.y} Z`;let o=new Path2D(n);this.group.push(o),i.stroke(o),this.pointList.map(r=>{let l=null;l=new je({ctx:i,center:r,radius:4/s,fillColor:this.color}),this.group.push(l),l.draw()})}if(this.status==="edit"){this.box.clearCanvas(i);let n=new Path2D(this.pathData);this.group.push(n),i.stroke(n),i.fillStyle=this.status==="edit"?e.fillColor:"rgba(0,0,0,0)",i.fill(new Path2D(this.pathData)),this.pointList.map((o,r)=>{let l=null;this.acctivePointIndex===r?l=new je({ctx:i,center:o,radius:8/s,fillColor:this.color}):l=new je({ctx:i,center:o,radius:4/s,fillColor:this.color}),this.group.push(l),l.draw()})}}isPointInside(e){let i=this.expent/this.box.t.a;return gi(e,this.pointList)<i}static import(e,i){let s=new this(e);return s.label=i.label,s.color=i.color||s.color,s.pointList=i.pointList,s.status="done",s.render(),s}},ec=class extends xs{constructor(e){super(e),this.type=Pt.POLYGON,this.minPointCount=3,this.isClosed=!0}};class ic extends xs{constructor(e){super(e),this.type=Pt.POLYLINE,this.minPointCount=3}get pathData(){let e="";return this.pointList.length&&this.pointList.forEach((i,s)=>{s===0?e+=`M${i.x},${i.y}`:e+=`L${i.x},${i.y}`}),e}}class sc extends Se{constructor(e){super(e),this.type=Pt.RECT,this.minPointCount=2}setCursor(){this.acctivePointIndex!==-1&&(this.box.view.style.cursor=["nwse-resize","nesw-resize","nwse-resize","nesw-resize"][this.acctivePointIndex])}setMoveEdit(){let e={...this.vertexList[this.acctivePointIndex]},i;this.acctivePointIndex==0?i={...this.vertexList[2]}:this.acctivePointIndex==1?i={...this.vertexList[3]}:this.acctivePointIndex==2?i={...this.vertexList[0]}:this.acctivePointIndex==3&&(i={...this.vertexList[1]}),e={...this.box.lastPoint};let s=Math.min(e.x,i.x),n=Math.min(e.y,i.y),o=Math.max(e.x,i.x),r=Math.max(e.y,i.y);this.pointList=[{x:s,y:n},{x:o,y:r}],this.acctivePointIndex=this.vertexList.findIndex(l=>l.x==e.x&&l.y==e.y)}get pathData(){let e="";return this.vertexList.length&&(this.vertexList.forEach((i,s)=>{s===0?e+=`M${i.x},${i.y}`:e+=`L${i.x},${i.y}`}),e+="Z "),e}get vertexList(){return this.pointList.length===2?[this.pointList[0],{x:this.pointList[0].x,y:this.pointList[1].y},this.pointList[1],{x:this.pointList[1].x,y:this.pointList[0].y}]:[]}}var Pt=(t=>(t.NONE="",t.RECT="rect",t.POLYGON="polygon",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.POINT="point",t.LINE="line",t.POLYLINE="polyline",t.LINE_ARROW="line_arrow",t))(Pt||{});const nc={"":"",rect:sc,polygon:ec,circle:Ql,ellipse:Gl,polyline:ic,line:no,line_arrow:tc};var oc=Object.defineProperty,rc=Object.getOwnPropertyDescriptor,lc=(t,e,i,s)=>{for(var n=s>1?void 0:s?rc(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&oc(e,i,n),n};const{scaleOfOuter:cc}=ds;let ue=class{constructor(e){this.config={drawColor:"yellow",lineWidth:2,fillColor:"rgba(255, 255, 255, 0.3)",showIndex:!0},this.t={a:1,b:0,c:0,d:1,e:0,f:0},this.initLayout={zoom:1,offsetx:0,offsety:0,width:0,height:0},this.lastMovePoint={x:0,y:0},this.moveStatus=!1,this.mouseDown=!1,this.drag=!1,this.currentDrawingType=Pt.NONE,this.markObjectList=[],this.renderGroup=[],this.markMap=nc,this._events=Object.create(null),this.init(e)}init(e){Object.assign(this.config,e||{}),this.view=document.querySelector(e.view),this.view.style.overflow="hidden",this.view.style.position="relative",this.view.style.cursor="default",this.canvas=this.createCanvas(),this.regionCanvas=this.createCanvas(),this.ctx=this.canvas.getContext("2d"),this.regionCtx=this.regionCanvas.getContext("2d"),this.view.addEventListener("mousemove",this.appMousemove.bind(this)),this.view.addEventListener("mousedown",this.appMousedown.bind(this)),this.view.addEventListener("mouseup",this.appMouseup.bind(this)),this.view.addEventListener("wheel",this.appWheel.bind(this)),this.view.addEventListener("dblclick",this.appDblclick.bind(this)),this.view.addEventListener("contextmenu",i=>{i.preventDefault(),this.emit("oncontextmenu",this.lastMovePoint)}),this.windowKeydown=this.windowKeydown.bind(this),this.windowKeyup=this.windowKeyup.bind(this),window.addEventListener("keydown",this.windowKeydown),window.addEventListener("keyup",this.windowKeyup)}register(e,i){if(!e||!i)throw new Error("need type or markObject");this.markMap[e]=i}get viewDomInfo(){return this.view.getBoundingClientRect()}get lastPoint(){return this.lastMovePoint?this.lastMovePoint:null}createCanvas(){let e=document.createElement("canvas");return e.setAttribute("style",` width: ${this.viewDomInfo.width}px;
        height: ${this.viewDomInfo.height}px;
        position: absolute;
        `),e.width=this.viewDomInfo.width,e.height=this.viewDomInfo.height,this.view.appendChild(e),e}clearCanvas(e){e.save(),e.globalCompositeOperation="copy",e.beginPath(),e.lineTo(0,0),e.stroke(),e.restore()}clearMarkShapes(){this.markObjectList.forEach(e=>{e.destory(),e.render()}),this.markObjectList=[],this.render(),this.emit("onchange"),this.addObjectData()}async setBackground(e){return new Promise(i=>{var s;(s=this.img)!=null&&s.src?this.img.src=e:(this.img=new Image,this.img.src=e,this.img.style.position="absolute",this.img.style.userSelect="none",this.img.style.pointerEvents="none"),this.img.onload=()=>{this.view.insertBefore(this.img,this.canvas),this.setLayout(this.img),i(null)}})}transfrom(){var e;this.ctx.setTransform(this.t),this.regionCtx.setTransform(this.t),this.img&&this.imgTrans(),(e=this.selectObject)==null||e.render(),this.render(),this.emit("ontransform",{t:this.t})}setLayout({width:e,height:i}){let s=this.viewDomInfo.width/e,n=this.viewDomInfo.height/i,o=Math.min(s,n),r=(this.viewDomInfo.width-e*o)/2,l=(this.viewDomInfo.height-i*o)/2;this.t={a:o,b:0,c:0,d:o,e:r,f:l},this.initLayout={zoom:o,offsetx:r,offsety:l,width:e,height:i},this.transfrom()}imgTrans(){this.img.style.transformOrigin=`${this.t.e}px ${this.t.f}px`,this.img.style.transform=`scale(${this.t.a}) translate(${this.t.e}px,${this.t.f}px)`}render(){for(var e=0;e<this.renderGroup.length;e++)this.renderGroup[e]=null;this.renderGroup=[],this.clearCanvas(this.ctx),this.ctx.font=`bold ${~~(16/this.t.a)}px serif`,this.ctx.lineWidth=this.config.lineWidth/this.t.a,this.markObjectList.map((i,s)=>{i.status!=="draw"&&this.config.showIndex&&this.ctx.fillText(s+"",i.indexPoint.x,i.indexPoint.y-3/this.t.a),this.ctx.strokeStyle=i.color;let n=new Path2D(i.pathData);this.renderGroup.push(n),this.ctx.stroke(n)})}appWheel(e){if(!this.config.disableZoom&&(e.metaKey||e.ctrlKey||e.altKey)){e.preventDefault();const i={x:e.offsetX,y:e.offsetY};let s=e.deltaY>0?.9:1.1;cc(this.t,i,s,s),this.transfrom()}}appDblclick(){this.t={a:this.initLayout.zoom,b:0,c:0,d:this.initLayout.zoom,e:this.initLayout.offsetx,f:this.initLayout.offsety},this.transfrom()}appMoving(e){if(this.config.disableMove)return;this.view.style.cursor="grab";let i=(e.x-this.lastMovePoint.x)*this.t.a,s=(e.y-this.lastMovePoint.y)*this.t.a;this.t.e+=i,this.t.f+=s,this.transfrom(),this.emit("onmove",{status:this.moveStatus})}appMousemove(e){let i=this.pointMapping(e);if(this.mouseDown&&this.moveStatus){this.appMoving(i),this.lastMovePoint=this.pointMapping(e);return}this.view.style.cursor="default",!!this.markObjectList.find(n=>n.status==="draw")&&(this.view.style.cursor="crosshair"),this.mouseDown&&this.selectObject&&(this.drag=!0,this.view.style.cursor="move"),e.buttons!==void 0&&(this.lastMovePoint={x:i.x,y:i.y}),this.getDrawMark("boxMousemove",i)}appMousedown(e){let i=this.pointMapping(e);this.mouseDown=!0,!this.moveStatus&&e.buttons===1&&this.getDrawMark("boxMousedown",i)}getDrawMark(e,i){var n,o;this.selectObject&&this.selectObject[e](i);const s=this.markObjectList[this.markObjectList.length-1];s&&s.status=="draw"&&((o=(n=this.markObjectList)==null?void 0:n[this.markObjectList.length-1])==null||o[e](i))}appMouseup(e){var n,o,r,l,h,u,f;if(this.mouseDown=!1,this.moveStatus)return;let i=this.pointMapping(e);if(this.selectObject&&this.drag){!this.selectObject.isPointInside(i)&&this.selectObject.acctivePointIndex===-1&&(this.selectObject=void 0),this.drag=!1,this.getDrawMark("boxMouseup",i),this.emit("onchange");return}let s=this.markObjectList[this.markObjectList.length-1];if(s.status==="draw"&&s.pointList&&((n=this.lastMovePoint)==null?void 0:n.x)!==((r=(o=s==null?void 0:s.pointList)==null?void 0:o[0])==null?void 0:r.x)&&s.pointList.length>0&&((h=(l=s==null?void 0:s.pointList)==null?void 0:l[0])==null?void 0:h.x)!==((f=(u=s==null?void 0:s.pointList)==null?void 0:u[1])==null?void 0:f.x))this.selectObject=void 0;else{let g=this.getSelectedIndex(i);g!==void 0&&this.markObjectList[g]?(this.drag&&this.selectObject&&this.selectObject.id!==this.markObjectList[g].id||(this.selectObject=this.markObjectList[g]),this.markObjectList[g].status==="draw"&&(this.selectObject=void 0)):this.selectObject=void 0}this.moveStatus=!1,this.mouseDown=!1,this.drag=!1,this.getDrawMark("boxMouseup",i),this.emit("onchange")}pointMapping(e){let i={x:0,y:0},s={x:e.offsetX||e.x,y:e.offsetY||e.y};return i.x=(s.x-this.t.e)/this.t.a,i.y=(s.y-this.t.f)/this.t.a,i}getSelectedIndex(e){let s=this.markObjectList.map((n,o)=>o).reverse().filter(n=>this.markObjectList[n].isPointInside(e));if(s.length){if(s.length===1)return s[0];if(s.length>1){if(this.drag&&this.selectObject)return this.selectObject.index-1;if(this.selectObject){const n=this.selectObject.index-1;if(s.indexOf(n)>-1)return s[s.indexOf(n)+1]}if(!this.selectObject)return s[0]}}}async setDrawType(e){if(this.currentDrawingType){let i=this.markObjectList[this.markObjectList.length-1];i&&i.status==="draw"&&(i==null||i.destory(),this.markObjectList.pop())}this.currentDrawingType=e,this.addObjectData(),this.emit("ondraw",{type:e})}get objects(){return this.markObjectList.filter(e=>e.status!=="draw").map(e=>{var i;return{id:e.id,label:e.label,type:e.type,color:e.color,select:e.id===((i=this.selectObject)==null?void 0:i.id),pointList:e.resultPoints||e.pointList}})}addObjectData(){let e=null;if(this.currentDrawingType)try{e=new this.markMap[this.currentDrawingType](this)}catch{throw new Error(`${this.currentDrawingType} mark type is not supported`)}e&&this.markObjectList.push(e),this.emit("onchange")}setObjectData(e){e.forEach(i=>{let s;if(i.type)try{s=this.markMap[i.type].import(this,i)}catch{throw new Error(`${i.type} mark type is not supported`)}s&&this.markObjectList.push(s)}),this.render(),this.emit("onchange")}selectObjectById(e){let i=this.markObjectList.find(s=>s.id===e);i&&i.setSelect(!0)}deleteObject(e){var s;let i=this.markObjectList.find(n=>n.id===e);i&&(i.destory(),(s=this.selectObject)==null||s.render(),this.markObjectList.splice(this.markObjectList.indexOf(i),1),this.render(),this.emit("onchange"))}setMoveEditStatus(e){this.moveStatus!=e&&(this.moveStatus=e)}async windowKeydown(e){if(e.code=="Space"&&(this.setMoveEditStatus(!0),e.preventDefault()),e.code=="NumpadEnter"||e.code=="Enter"){let i=this.markObjectList[this.markObjectList.length-1];(i==null?void 0:i.status)=="draw"&&await i.complete()}e.code=="Delete"&&this.selectObject&&this.deleteObject(this.selectObject.id)}windowKeyup(e){e.code=="Space"&&this.setMoveEditStatus(!1)}destroy(){window.removeEventListener("keydown",this.windowKeydown),window.removeEventListener("keyup",this.windowKeyup),this.view.innerHTML="",this.view.replaceWith(this.view.cloneNode(!0))}on(e,i){}on_(e,i,s){return{}}off(e,i){}off_(e){}emit(e,...i){}};ue.MoveMarkObject=Se;ue.ClickMarkObject=xs;ue.MarkBoardUtils=Vl;ue=lc([ql(zl)],ue);const hc=ue,{ClickMarkObject:ac,MoveMarkObject:oo,MarkBoardUtils:Xe}=hc;class uc extends oo{constructor(e){super(e),this.type="sides_arrow"}setMoveEdit(){this.pointList[this.acctivePointIndex]={x:this.lastMousePoint.x,y:this.lastMousePoint.y}}isPointInside(e){let i=this.expent/this.box.t.a;return Xe.isPointInPolygon(e,this.pointList)<i}get pathData(){let e="";if(this.pointList.length===2&&this.pointList[0].x!=this.pointList[1].x&&this.pointList[0].y!=this.pointList[1].y){e+=`M${this.pointList[0].x},${this.pointList[1].y}`,e+=`L${this.pointList[0].x},${this.pointList[1].y}`;const[i,s]=Xe.getSides(this.pointList[0],this.pointList[1]),[n,o]=Xe.getArrow(s,i,20/this.box.t.a);e+="Z",e+=`M${s.x},${s.y}`,e+=`L${i.x},${i.y}`,e+="Z",e+=`M${n.x},${n.y}`,e+=`L${i.x},${i.y}`,e+=`M${i.x},${i.y}`,e+=`L${o.x},${o.y}`,e+="Z",e+=`M${this.pointList[0].x},${this.pointList[0].y}`,e+=`L${this.pointList[1].x},${this.pointList[1].y}`,e+=`L${this.pointList[0].x},${this.pointList[0].y} `,e+=`L${this.pointList[this.pointList.length-1].x},${this.pointList[this.pointList.length-1].y} `,e+="Z "}return e}}class fc extends ac{constructor(e){super(e),this.type="polyline_arrow"}get pathData(){let e="";if(this.pointList.length&&(this.pointList.forEach((i,s)=>{s===0?e+=`M${i.x},${i.y}`:e+=`L${i.x},${i.y}`}),this.pointList.length>=2))for(let i=0;i<this.pointList.length-1;i++){const[s,n]=Xe.getArrow(this.pointList[i],this.pointList[i+1],20/this.box.t.a);e+=`M${s.x},${s.y}`,e+=`L${this.pointList[i+1].x},${this.pointList[i+1].y}`,e+=`M${this.pointList[i+1].x},${this.pointList[i+1].y}`,e+=`L${n.x},${n.y}`,e+=`M${this.pointList[i+1].x},${this.pointList[i+1].y}`}return e}}class dc extends oo{constructor(e){super(e),this.type="triangle"}setMoveEdit(e){this.acctivePointIndex==0?this.pointList[0]={x:this.pointList[0].x+e.x,y:this.pointList[0].y+e.y}:this.acctivePointIndex===1?this.pointList[1]={x:this.pointList[1].x+e.x,y:this.pointList[1].y+e.y}:this.acctivePointIndex===2&&(this.pointList[0]={x:this.pointList[0].x+e.x,y:this.pointList[0].y},this.pointList[1]={x:this.pointList[1].x,y:this.pointList[1].y+e.y})}get pathData(){let e="";return this.vertexList.length&&(this.vertexList.forEach((i,s)=>{s===0?e+=`M${i.x},${i.y}`:e+=`L${i.x},${i.y}`}),e+="Z "),e}get vertexList(){return this.pointList.length===2?[{x:(this.pointList[0].x+this.pointList[1].x)/2,y:this.pointList[0].y},this.pointList[1],{x:this.pointList[0].x,y:this.pointList[1].y}]:[]}get indexPoint(){return this.vertexList[0]}get resultPoints(){return this.vertexList}}const gs=t=>(nr("data-v-9e02974f"),t=t(),or(),t),pc={class:"page"},xc=gs(()=>H("h3",null,"VUE canvas-mark-board Demo:",-1)),gc={class:"tools_bar"},yc=["onClick"],bc=["viewBox"],mc=["d","fill"],vc=gs(()=>H("a",{class:"remark"},[Kt(" 操作说明? "),H("div",null,[H("b",null,"画布操作"),Kt("：1.双击鼠标恢复大小; 2.ctrl或cmd或alt+滚轮缩放; 3.按住空格拖动画布 "),H("br"),H("b",null,"多边形绘制"),Kt("：1.右键删除最后一个点; 2.点击第一个点或者按回车完成绘制 "),H("br"),H("b",null,"其他操作"),Kt("：1.可以点击图形然后拖动，调整点拖动改变大小; 2.按Delete键删除对象 ")])],-1)),Lc={class:"mark-box"},wc=gs(()=>H("div",{id:"mark-box"},null,-1)),Oc={class:"object-list"},Pc=["onClick"],Mc=["onClick"],_c=xr({__name:"App",setup(t){const e=Xn(()=>JSON.stringify(h.value));jt(!1);var i=jt(""),s=jt(null),n=jt(!0);function o(w){var $;($=s.value)==null||$.setDrawType(w)}var r=jt("person"),l=jt("#ff0000"),h=jt([]);Nn(()=>{f()}),jt("");function u(){var w;try{(w=s.value)==null||w.setObjectData(Bl)}catch{alert("JSON格式错误")}}function f(){s.value||(s.value=new Fl({view:"#mark-box"}),s.value.register("sides_arrow",uc),s.value.register("polyline_arrow",fc),s.value.register("triangle",dc),s.value.setBackground(Kl).then(()=>{var w;(w=s.value)==null||w.setDrawType("rect")}),s.value.on("onselect",w=>{n.value=w.status}),s.value.on("ondraw",w=>{i.value=w.type}),s.value.on("oncomplete",w=>{w.ok({label:r.value,color:l.value})}),s.value.on("onchange",()=>{var w;h.value=JSON.parse(JSON.stringify((w=s.value)==null?void 0:w.objects))}))}function g(){var w;(w=s.value)==null||w.clearMarkShapes()}function L(){let w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=function($){let P=$.target.files[0];if(P){let A=new FileReader;A.onload=function(N){var F;(F=s.value)==null||F.setBackground(N.target.result)},A.readAsDataURL(P)}},w.click()}return(w,$)=>(Jt(),Vt("div",pc,[xc,H("div",gc,[(Jt(!0),Vt(ct,null,ks(rt(Hl),(P,A)=>{var N,F;return Jt(),Vt("button",{key:A,onClick:q=>o(P.type),style:Ie({background:((N=rt(s))==null?void 0:N.currentDrawingType)==P.type?"#000":"transparent"})},[(Jt(),Vt("svg",{viewBox:P.viewBox,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[H("path",{d:P.icon,fill:((F=rt(s))==null?void 0:F.currentDrawingType)===P.type?"#FFF":"#333333"},null,8,mc)],8,bc))],12,yc)}),128)),H("button",{onClick:g},"清空画布"),H("button",{onClick:L},"上传图片"),H("button",{onClick:u},"导入JSON"),H("button",{onClick:f},"创建"),H("button",{onClick:$[0]||($[0]=P=>{rt(s).destroy(),Y(s)?s.value=void 0:s=void 0})}," 销毁 "),Kt(" 标签名："),Pi(H("input",{type:"text","onUpdate:modelValue":$[1]||($[1]=P=>Y(r)?r.value=P:r=P)},null,512),[[Ci,rt(r)]]),Kt(" 颜色："),Pi(H("input",{type:"color","onUpdate:modelValue":$[2]||($[2]=P=>Y(l)?l.value=P:l=P)},null,512),[[Ci,rt(l)]]),vc]),H("div",Lc,[wc,H("div",Oc,[(Jt(!0),Vt(ct,null,ks(rt(h),(P,A)=>{var N,F;return Jt(),Vt("div",{onClick:q=>rt(s).selectObjectById(P.id),key:A,style:Ie({background:((F=(N=rt(s))==null?void 0:N.selectObject)==null?void 0:F.id)==P.id?"#ccc":"#fff"})},[H("span",null,Lo(P.label),1),H("button",{onClick:q=>rt(s).deleteObject(P.id)},"删除",8,Mc)],12,Pc)}),128))])]),Pi(H("textarea",{"onUpdate:modelValue":$[3]||($[3]=P=>e.value=P),cols:"30",rows:"10"},null,512),[[Ci,e.value]])]))}}),jc=(t,e)=>{const i=t.__vccOpts||t;for(const[s,n]of e)i[s]=n;return i},Ic=jc(_c,[["__scopeId","data-v-9e02974f"]]);Cl(Ic).mount("#app");
